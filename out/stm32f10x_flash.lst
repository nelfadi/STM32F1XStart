   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 2
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f10x_flash.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.FLASH_SetLatency,"ax",%progbits
  19              		.align	1
  20              		.global	FLASH_SetLatency
  21              		.thumb
  22              		.thumb_func
  24              	FLASH_SetLatency:
  25              		.fnstart
  26              	.LFB29:
  27              		.file 1 "StdPeriphLib/src/stm32f10x_flash.c"
   1:StdPeriphLib/src/stm32f10x_flash.c **** /**
   2:StdPeriphLib/src/stm32f10x_flash.c ****   ******************************************************************************
   3:StdPeriphLib/src/stm32f10x_flash.c ****   * @file    stm32f10x_flash.c
   4:StdPeriphLib/src/stm32f10x_flash.c ****   * @author  MCD Application Team
   5:StdPeriphLib/src/stm32f10x_flash.c ****   * @version V3.5.0
   6:StdPeriphLib/src/stm32f10x_flash.c ****   * @date    11-March-2011
   7:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief   This file provides all the FLASH firmware functions.
   8:StdPeriphLib/src/stm32f10x_flash.c ****   ******************************************************************************
   9:StdPeriphLib/src/stm32f10x_flash.c ****   * @attention
  10:StdPeriphLib/src/stm32f10x_flash.c ****   *
  11:StdPeriphLib/src/stm32f10x_flash.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:StdPeriphLib/src/stm32f10x_flash.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:StdPeriphLib/src/stm32f10x_flash.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:StdPeriphLib/src/stm32f10x_flash.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:StdPeriphLib/src/stm32f10x_flash.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:StdPeriphLib/src/stm32f10x_flash.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:StdPeriphLib/src/stm32f10x_flash.c ****   *
  18:StdPeriphLib/src/stm32f10x_flash.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:StdPeriphLib/src/stm32f10x_flash.c ****   ******************************************************************************
  20:StdPeriphLib/src/stm32f10x_flash.c ****   */
  21:StdPeriphLib/src/stm32f10x_flash.c **** 
  22:StdPeriphLib/src/stm32f10x_flash.c **** /* Includes ------------------------------------------------------------------*/
  23:StdPeriphLib/src/stm32f10x_flash.c **** #include "stm32f10x_flash.h"
  24:StdPeriphLib/src/stm32f10x_flash.c **** 
  25:StdPeriphLib/src/stm32f10x_flash.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  26:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
  27:StdPeriphLib/src/stm32f10x_flash.c ****   */
  28:StdPeriphLib/src/stm32f10x_flash.c **** 
  29:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH 
  30:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief FLASH driver modules
  31:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
  32:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
  33:StdPeriphLib/src/stm32f10x_flash.c **** 
  34:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_TypesDefinitions
  35:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
  36:StdPeriphLib/src/stm32f10x_flash.c ****   */
  37:StdPeriphLib/src/stm32f10x_flash.c **** 
  38:StdPeriphLib/src/stm32f10x_flash.c **** /**
  39:StdPeriphLib/src/stm32f10x_flash.c ****   * @}
  40:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
  41:StdPeriphLib/src/stm32f10x_flash.c **** 
  42:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Defines
  43:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
  44:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
  45:StdPeriphLib/src/stm32f10x_flash.c **** 
  46:StdPeriphLib/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  47:StdPeriphLib/src/stm32f10x_flash.c **** #define ACR_LATENCY_Mask         ((uint32_t)0x00000038)
  48:StdPeriphLib/src/stm32f10x_flash.c **** #define ACR_HLFCYA_Mask          ((uint32_t)0xFFFFFFF7)
  49:StdPeriphLib/src/stm32f10x_flash.c **** #define ACR_PRFTBE_Mask          ((uint32_t)0xFFFFFFEF)
  50:StdPeriphLib/src/stm32f10x_flash.c **** 
  51:StdPeriphLib/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  52:StdPeriphLib/src/stm32f10x_flash.c **** #define ACR_PRFTBS_Mask          ((uint32_t)0x00000020) 
  53:StdPeriphLib/src/stm32f10x_flash.c **** 
  54:StdPeriphLib/src/stm32f10x_flash.c **** /* Flash Control Register bits */
  55:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_PG_Set                ((uint32_t)0x00000001)
  56:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_PG_Reset              ((uint32_t)0x00001FFE) 
  57:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_PER_Set               ((uint32_t)0x00000002)
  58:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_PER_Reset             ((uint32_t)0x00001FFD)
  59:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_MER_Set               ((uint32_t)0x00000004)
  60:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_MER_Reset             ((uint32_t)0x00001FFB)
  61:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_OPTPG_Set             ((uint32_t)0x00000010)
  62:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_OPTPG_Reset           ((uint32_t)0x00001FEF)
  63:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_OPTER_Set             ((uint32_t)0x00000020)
  64:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_OPTER_Reset           ((uint32_t)0x00001FDF)
  65:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_STRT_Set              ((uint32_t)0x00000040)
  66:StdPeriphLib/src/stm32f10x_flash.c **** #define CR_LOCK_Set              ((uint32_t)0x00000080)
  67:StdPeriphLib/src/stm32f10x_flash.c **** 
  68:StdPeriphLib/src/stm32f10x_flash.c **** /* FLASH Mask */
  69:StdPeriphLib/src/stm32f10x_flash.c **** #define RDPRT_Mask               ((uint32_t)0x00000002)
  70:StdPeriphLib/src/stm32f10x_flash.c **** #define WRP0_Mask                ((uint32_t)0x000000FF)
  71:StdPeriphLib/src/stm32f10x_flash.c **** #define WRP1_Mask                ((uint32_t)0x0000FF00)
  72:StdPeriphLib/src/stm32f10x_flash.c **** #define WRP2_Mask                ((uint32_t)0x00FF0000)
  73:StdPeriphLib/src/stm32f10x_flash.c **** #define WRP3_Mask                ((uint32_t)0xFF000000)
  74:StdPeriphLib/src/stm32f10x_flash.c **** #define OB_USER_BFB2             ((uint16_t)0x0008)
  75:StdPeriphLib/src/stm32f10x_flash.c **** 
  76:StdPeriphLib/src/stm32f10x_flash.c **** /* FLASH Keys */
  77:StdPeriphLib/src/stm32f10x_flash.c **** #define RDP_Key                  ((uint16_t)0x00A5)
  78:StdPeriphLib/src/stm32f10x_flash.c **** #define FLASH_KEY1               ((uint32_t)0x45670123)
  79:StdPeriphLib/src/stm32f10x_flash.c **** #define FLASH_KEY2               ((uint32_t)0xCDEF89AB)
  80:StdPeriphLib/src/stm32f10x_flash.c **** 
  81:StdPeriphLib/src/stm32f10x_flash.c **** /* FLASH BANK address */
  82:StdPeriphLib/src/stm32f10x_flash.c **** #define FLASH_BANK1_END_ADDRESS   ((uint32_t)0x807FFFF)
  83:StdPeriphLib/src/stm32f10x_flash.c **** 
  84:StdPeriphLib/src/stm32f10x_flash.c **** /* Delay definition */   
  85:StdPeriphLib/src/stm32f10x_flash.c **** #define EraseTimeout          ((uint32_t)0x000B0000)
  86:StdPeriphLib/src/stm32f10x_flash.c **** #define ProgramTimeout        ((uint32_t)0x00002000)
  87:StdPeriphLib/src/stm32f10x_flash.c **** /**
  88:StdPeriphLib/src/stm32f10x_flash.c ****   * @}
  89:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
  90:StdPeriphLib/src/stm32f10x_flash.c **** 
  91:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Macros
  92:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
  93:StdPeriphLib/src/stm32f10x_flash.c ****   */
  94:StdPeriphLib/src/stm32f10x_flash.c **** 
  95:StdPeriphLib/src/stm32f10x_flash.c **** /**
  96:StdPeriphLib/src/stm32f10x_flash.c ****   * @}
  97:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
  98:StdPeriphLib/src/stm32f10x_flash.c **** 
  99:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Variables
 100:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
 101:StdPeriphLib/src/stm32f10x_flash.c ****   */
 102:StdPeriphLib/src/stm32f10x_flash.c **** 
 103:StdPeriphLib/src/stm32f10x_flash.c **** /**
 104:StdPeriphLib/src/stm32f10x_flash.c ****   * @}
 105:StdPeriphLib/src/stm32f10x_flash.c ****   */ 
 106:StdPeriphLib/src/stm32f10x_flash.c **** 
 107:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_FunctionPrototypes
 108:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
 109:StdPeriphLib/src/stm32f10x_flash.c ****   */
 110:StdPeriphLib/src/stm32f10x_flash.c ****   
 111:StdPeriphLib/src/stm32f10x_flash.c **** /**
 112:StdPeriphLib/src/stm32f10x_flash.c ****   * @}
 113:StdPeriphLib/src/stm32f10x_flash.c ****   */
 114:StdPeriphLib/src/stm32f10x_flash.c **** 
 115:StdPeriphLib/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Functions
 116:StdPeriphLib/src/stm32f10x_flash.c ****   * @{
 117:StdPeriphLib/src/stm32f10x_flash.c ****   */
 118:StdPeriphLib/src/stm32f10x_flash.c **** 
 119:StdPeriphLib/src/stm32f10x_flash.c **** /**
 120:StdPeriphLib/src/stm32f10x_flash.c **** @code  
 121:StdPeriphLib/src/stm32f10x_flash.c ****  
 122:StdPeriphLib/src/stm32f10x_flash.c ****  This driver provides functions to configure and program the Flash memory of all STM32F10x devices,
 123:StdPeriphLib/src/stm32f10x_flash.c ****  including the latest STM32F10x_XL density devices. 
 124:StdPeriphLib/src/stm32f10x_flash.c **** 
 125:StdPeriphLib/src/stm32f10x_flash.c ****  STM32F10x_XL devices feature up to 1 Mbyte with dual bank architecture for read-while-write (RWW) 
 126:StdPeriphLib/src/stm32f10x_flash.c ****     - bank1: fixed size of 512 Kbytes (256 pages of 2Kbytes each)
 127:StdPeriphLib/src/stm32f10x_flash.c ****     - bank2: up to 512 Kbytes (up to 256 pages of 2Kbytes each)
 128:StdPeriphLib/src/stm32f10x_flash.c ****  While other STM32F10x devices features only one bank with memory up to 512 Kbytes.
 129:StdPeriphLib/src/stm32f10x_flash.c **** 
 130:StdPeriphLib/src/stm32f10x_flash.c ****  In version V3.3.0, some functions were updated and new ones were added to support
 131:StdPeriphLib/src/stm32f10x_flash.c ****  STM32F10x_XL devices. Thus some functions manages all devices, while other are 
 132:StdPeriphLib/src/stm32f10x_flash.c ****  dedicated for XL devices only.
 133:StdPeriphLib/src/stm32f10x_flash.c ****  
 134:StdPeriphLib/src/stm32f10x_flash.c ****  The table below presents the list of available functions depending on the used STM32F10x devices. 
 135:StdPeriphLib/src/stm32f10x_flash.c ****       
 136:StdPeriphLib/src/stm32f10x_flash.c ****    ***************************************************
 137:StdPeriphLib/src/stm32f10x_flash.c ****    * Legacy functions used for all STM32F10x devices *
 138:StdPeriphLib/src/stm32f10x_flash.c ****    ***************************************************
 139:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 140:StdPeriphLib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 141:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 142:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 143:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_SetLatency                    |    Yes     |      Yes      | No change                   
 144:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 145:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_HalfCycleAccessCmd            |    Yes     |      Yes      | No change                   
 146:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 147:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_PrefetchBufferCmd             |    Yes     |      Yes      | No change                   
 148:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 149:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_Unlock                        |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 150:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: unlock 
 151:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_UnlockBank1 funct
 152:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 153:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_Lock                          |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 154:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: lock Ba
 155:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_LockBank1 functio
 156:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 157:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ErasePage                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 158:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 159:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 160:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_EraseAllPages                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 161:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 162:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 163:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_EraseOptionBytes              |    Yes     |      Yes      | No change                   
 164:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 165:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ProgramWord                   |    Yes     |      Yes      | Updated to program up to 1MB
 166:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 167:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ProgramHalfWord               |    Yes     |      Yes      | Updated to program up to 1MB
 168:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 169:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ProgramOptionByteData         |    Yes     |      Yes      | No change                   
 170:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 171:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_EnableWriteProtection         |    Yes     |      Yes      | No change                   
 172:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 173:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ReadOutProtection             |    Yes     |      Yes      | No change                   
 174:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 175:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_UserOptionByteConfig          |    Yes     |      Yes      | No change                   
 176:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 177:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetUserOptionByte             |    Yes     |      Yes      | No change                   
 178:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 179:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetWriteProtectionOptionByte  |    Yes     |      Yes      | No change                   
 180:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 181:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetReadOutProtectionStatus    |    Yes     |      Yes      | No change                   
 182:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 183:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetPrefetchBufferStatus       |    Yes     |      Yes      | No change                   
 184:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 185:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ITConfig                      |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 186:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: enable 
 187:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 188:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetFlagStatus                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 189:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: return 
 190:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 191:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_ClearFlag                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 192:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: clear B
 193:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 194:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_GetStatus                     |    Yes     |      Yes      | - Return the status of Bank1
 195:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to FLASH_GetBan
 196:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 197:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_WaitForLastOperation          |    Yes     |      Yes      | - Wait for Bank1 last operat
 198:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to: FLASH_WaitF
 199:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 200:StdPeriphLib/src/stm32f10x_flash.c **** 
 201:StdPeriphLib/src/stm32f10x_flash.c ****    ************************************************************************************************
 202:StdPeriphLib/src/stm32f10x_flash.c ****    * New functions used for all STM32F10x devices to manage Bank1:                                 
 203:StdPeriphLib/src/stm32f10x_flash.c ****    *   - These functions are mainly useful for STM32F10x_XL density devices, to have separate contr
 204:StdPeriphLib/src/stm32f10x_flash.c ****    *   - For other devices, these functions are optional (covered by functions listed above)       
 205:StdPeriphLib/src/stm32f10x_flash.c ****    ************************************************************************************************
 206:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 207:StdPeriphLib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 208:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 209:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 210:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_UnlockBank1                  |    Yes     |      Yes      | - Unlock Bank1              
 211:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 212:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_LockBank1                     |    Yes     |      Yes      | - Lock Bank1                
 213:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 214:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank1Pages           |    Yes     |      Yes      | - Erase all pages in Bank1  
 215:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 216:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_GetBank1Status               |    Yes     |      Yes      | - Return the status of Bank1
 217:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 218:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank1Operation    |    Yes     |      Yes      | - Wait for Bank1 last operat
 219:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 220:StdPeriphLib/src/stm32f10x_flash.c **** 
 221:StdPeriphLib/src/stm32f10x_flash.c ****    *****************************************************************************
 222:StdPeriphLib/src/stm32f10x_flash.c ****    * New Functions used only with STM32F10x_XL density devices to manage Bank2 *
 223:StdPeriphLib/src/stm32f10x_flash.c ****    *****************************************************************************
 224:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 225:StdPeriphLib/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 226:StdPeriphLib/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 227:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 228:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_UnlockBank2                  |    Yes     |      No       | - Unlock Bank2              
 229:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 230:StdPeriphLib/src/stm32f10x_flash.c ****    |FLASH_LockBank2                     |    Yes     |      No       | - Lock Bank2                
 231:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 232:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank2Pages           |    Yes     |      No       | - Erase all pages in Bank2  
 233:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 234:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_GetBank2Status               |    Yes     |      No       | - Return the status of Bank2
 235:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 236:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank2Operation    |    Yes     |      No       | - Wait for Bank2 last operat
 237:StdPeriphLib/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 238:StdPeriphLib/src/stm32f10x_flash.c ****    | FLASH_BootConfig                   |    Yes     |      No       | - Configure to boot from Ban
 239:StdPeriphLib/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 240:StdPeriphLib/src/stm32f10x_flash.c **** @endcode
 241:StdPeriphLib/src/stm32f10x_flash.c **** */
 242:StdPeriphLib/src/stm32f10x_flash.c **** 
 243:StdPeriphLib/src/stm32f10x_flash.c **** 
 244:StdPeriphLib/src/stm32f10x_flash.c **** /**
 245:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Sets the code latency value.
 246:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 247:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_Latency: specifies the FLASH Latency value.
 248:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 249:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_0: FLASH Zero Latency cycle
 250:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_1: FLASH One Latency cycle
 251:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_2: FLASH Two Latency cycles
 252:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 253:StdPeriphLib/src/stm32f10x_flash.c ****   */
 254:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_SetLatency(uint32_t FLASH_Latency)
 255:StdPeriphLib/src/stm32f10x_flash.c **** {
  28              		.loc 1 255 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
 256:StdPeriphLib/src/stm32f10x_flash.c ****   uint32_t tmpreg = 0;
 257:StdPeriphLib/src/stm32f10x_flash.c ****   
 258:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 259:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_LATENCY(FLASH_Latency));
 260:StdPeriphLib/src/stm32f10x_flash.c ****   
 261:StdPeriphLib/src/stm32f10x_flash.c ****   /* Read the ACR register */
 262:StdPeriphLib/src/stm32f10x_flash.c ****   tmpreg = FLASH->ACR;  
  34              		.loc 1 262 0
  35 0000 034B     		ldr	r3, .L2
  36 0002 1A68     		ldr	r2, [r3, #0]
  37              	.LVL1:
 263:StdPeriphLib/src/stm32f10x_flash.c ****   
 264:StdPeriphLib/src/stm32f10x_flash.c ****   /* Sets the Latency value */
 265:StdPeriphLib/src/stm32f10x_flash.c ****   tmpreg &= ACR_LATENCY_Mask;
  38              		.loc 1 265 0
  39 0004 02F03802 		and	r2, r2, #56
  40              	.LVL2:
 266:StdPeriphLib/src/stm32f10x_flash.c ****   tmpreg |= FLASH_Latency;
  41              		.loc 1 266 0
  42 0008 1043     		orrs	r0, r0, r2
  43              	.LVL3:
 267:StdPeriphLib/src/stm32f10x_flash.c ****   
 268:StdPeriphLib/src/stm32f10x_flash.c ****   /* Write the ACR register */
 269:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->ACR = tmpreg;
  44              		.loc 1 269 0
  45 000a 1860     		str	r0, [r3, #0]
  46 000c 7047     		bx	lr
  47              	.L3:
  48 000e 00BF     		.align	2
  49              	.L2:
  50 0010 00200240 		.word	1073881088
  51              		.cfi_endproc
  52              	.LFE29:
  53              		.fnend
  55              		.section	.text.FLASH_HalfCycleAccessCmd,"ax",%progbits
  56              		.align	1
  57              		.global	FLASH_HalfCycleAccessCmd
  58              		.thumb
  59              		.thumb_func
  61              	FLASH_HalfCycleAccessCmd:
  62              		.fnstart
  63              	.LFB30:
 270:StdPeriphLib/src/stm32f10x_flash.c **** }
 271:StdPeriphLib/src/stm32f10x_flash.c **** 
 272:StdPeriphLib/src/stm32f10x_flash.c **** /**
 273:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Half cycle flash access.
 274:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 275:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_HalfCycleAccess: specifies the FLASH Half cycle Access mode.
 276:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 277:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Enable: FLASH Half Cycle Enable
 278:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Disable: FLASH Half Cycle Disable
 279:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 280:StdPeriphLib/src/stm32f10x_flash.c ****   */
 281:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_HalfCycleAccessCmd(uint32_t FLASH_HalfCycleAccess)
 282:StdPeriphLib/src/stm32f10x_flash.c **** {
  64              		.loc 1 282 0
  65              		.cfi_startproc
  66              		@ args = 0, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              		@ link register save eliminated.
  69              	.LVL4:
 283:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 284:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_HALFCYCLEACCESS_STATE(FLASH_HalfCycleAccess));
 285:StdPeriphLib/src/stm32f10x_flash.c ****   
 286:StdPeriphLib/src/stm32f10x_flash.c ****   /* Enable or disable the Half cycle access */
 287:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_HLFCYA_Mask;
  70              		.loc 1 287 0
  71 0000 044B     		ldr	r3, .L5
  72 0002 1A68     		ldr	r2, [r3, #0]
  73 0004 22F00802 		bic	r2, r2, #8
  74 0008 1A60     		str	r2, [r3, #0]
 288:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_HalfCycleAccess;
  75              		.loc 1 288 0
  76 000a 1A68     		ldr	r2, [r3, #0]
  77 000c 1043     		orrs	r0, r0, r2
  78              	.LVL5:
  79 000e 1860     		str	r0, [r3, #0]
  80 0010 7047     		bx	lr
  81              	.L6:
  82 0012 00BF     		.align	2
  83              	.L5:
  84 0014 00200240 		.word	1073881088
  85              		.cfi_endproc
  86              	.LFE30:
  87              		.fnend
  89              		.section	.text.FLASH_PrefetchBufferCmd,"ax",%progbits
  90              		.align	1
  91              		.global	FLASH_PrefetchBufferCmd
  92              		.thumb
  93              		.thumb_func
  95              	FLASH_PrefetchBufferCmd:
  96              		.fnstart
  97              	.LFB31:
 289:StdPeriphLib/src/stm32f10x_flash.c **** }
 290:StdPeriphLib/src/stm32f10x_flash.c **** 
 291:StdPeriphLib/src/stm32f10x_flash.c **** /**
 292:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Prefetch Buffer.
 293:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 294:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_PrefetchBuffer: specifies the Prefetch buffer status.
 295:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 296:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Enable: FLASH Prefetch Buffer Enable
 297:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Disable: FLASH Prefetch Buffer Disable
 298:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 299:StdPeriphLib/src/stm32f10x_flash.c ****   */
 300:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_PrefetchBufferCmd(uint32_t FLASH_PrefetchBuffer)
 301:StdPeriphLib/src/stm32f10x_flash.c **** {
  98              		.loc 1 301 0
  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102              		@ link register save eliminated.
 103              	.LVL6:
 302:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 303:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_PREFETCHBUFFER_STATE(FLASH_PrefetchBuffer));
 304:StdPeriphLib/src/stm32f10x_flash.c ****   
 305:StdPeriphLib/src/stm32f10x_flash.c ****   /* Enable or disable the Prefetch Buffer */
 306:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_PRFTBE_Mask;
 104              		.loc 1 306 0
 105 0000 044B     		ldr	r3, .L8
 106 0002 1A68     		ldr	r2, [r3, #0]
 107 0004 22F01002 		bic	r2, r2, #16
 108 0008 1A60     		str	r2, [r3, #0]
 307:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_PrefetchBuffer;
 109              		.loc 1 307 0
 110 000a 1A68     		ldr	r2, [r3, #0]
 111 000c 1043     		orrs	r0, r0, r2
 112              	.LVL7:
 113 000e 1860     		str	r0, [r3, #0]
 114 0010 7047     		bx	lr
 115              	.L9:
 116 0012 00BF     		.align	2
 117              	.L8:
 118 0014 00200240 		.word	1073881088
 119              		.cfi_endproc
 120              	.LFE31:
 121              		.fnend
 123              		.section	.text.FLASH_Unlock,"ax",%progbits
 124              		.align	1
 125              		.global	FLASH_Unlock
 126              		.thumb
 127              		.thumb_func
 129              	FLASH_Unlock:
 130              		.fnstart
 131              	.LFB32:
 308:StdPeriphLib/src/stm32f10x_flash.c **** }
 309:StdPeriphLib/src/stm32f10x_flash.c **** 
 310:StdPeriphLib/src/stm32f10x_flash.c **** /**
 311:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Program Erase Controller.
 312:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 313:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1 and Bank2.
 314:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is equivalent 
 315:StdPeriphLib/src/stm32f10x_flash.c ****   *           to FLASH_UnlockBank1 function.. 
 316:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 317:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 318:StdPeriphLib/src/stm32f10x_flash.c ****   */
 319:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_Unlock(void)
 320:StdPeriphLib/src/stm32f10x_flash.c **** {
 132              		.loc 1 320 0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 0
 135              		@ frame_needed = 0, uses_anonymous_args = 0
 136              		@ link register save eliminated.
 321:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 322:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 137              		.loc 1 322 0
 138 0000 034B     		ldr	r3, .L11
 139 0002 044A     		ldr	r2, .L11+4
 140 0004 5A60     		str	r2, [r3, #4]
 323:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 141              		.loc 1 323 0
 142 0006 02F18832 		add	r2, r2, #-2004318072
 143 000a 5A60     		str	r2, [r3, #4]
 144 000c 7047     		bx	lr
 145              	.L12:
 146 000e 00BF     		.align	2
 147              	.L11:
 148 0010 00200240 		.word	1073881088
 149 0014 23016745 		.word	1164378403
 150              		.cfi_endproc
 151              	.LFE32:
 152              		.fnend
 154              		.section	.text.FLASH_UnlockBank1,"ax",%progbits
 155              		.align	1
 156              		.global	FLASH_UnlockBank1
 157              		.thumb
 158              		.thumb_func
 160              	FLASH_UnlockBank1:
 161              		.fnstart
 162              	.LFB33:
 324:StdPeriphLib/src/stm32f10x_flash.c **** 
 325:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 326:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 327:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 328:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 329:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 330:StdPeriphLib/src/stm32f10x_flash.c **** }
 331:StdPeriphLib/src/stm32f10x_flash.c **** /**
 332:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank1 Program Erase Controller.
 333:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 334:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1.
 335:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is 
 336:StdPeriphLib/src/stm32f10x_flash.c ****   *           equivalent to FLASH_Unlock function.
 337:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 338:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 339:StdPeriphLib/src/stm32f10x_flash.c ****   */
 340:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_UnlockBank1(void)
 341:StdPeriphLib/src/stm32f10x_flash.c **** {
 163              		.loc 1 341 0
 164              		.cfi_startproc
 165              		@ args = 0, pretend = 0, frame = 0
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 167              		@ link register save eliminated.
 342:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 343:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 168              		.loc 1 343 0
 169 0000 034B     		ldr	r3, .L14
 170 0002 044A     		ldr	r2, .L14+4
 171 0004 5A60     		str	r2, [r3, #4]
 344:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 172              		.loc 1 344 0
 173 0006 02F18832 		add	r2, r2, #-2004318072
 174 000a 5A60     		str	r2, [r3, #4]
 175 000c 7047     		bx	lr
 176              	.L15:
 177 000e 00BF     		.align	2
 178              	.L14:
 179 0010 00200240 		.word	1073881088
 180 0014 23016745 		.word	1164378403
 181              		.cfi_endproc
 182              	.LFE33:
 183              		.fnend
 185              		.section	.text.FLASH_Lock,"ax",%progbits
 186              		.align	1
 187              		.global	FLASH_Lock
 188              		.thumb
 189              		.thumb_func
 191              	FLASH_Lock:
 192              		.fnstart
 193              	.LFB34:
 345:StdPeriphLib/src/stm32f10x_flash.c **** }
 346:StdPeriphLib/src/stm32f10x_flash.c **** 
 347:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 348:StdPeriphLib/src/stm32f10x_flash.c **** /**
 349:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank2 Program Erase Controller.
 350:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 351:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 352:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 353:StdPeriphLib/src/stm32f10x_flash.c ****   */
 354:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_UnlockBank2(void)
 355:StdPeriphLib/src/stm32f10x_flash.c **** {
 356:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 357:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 358:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 359:StdPeriphLib/src/stm32f10x_flash.c **** 
 360:StdPeriphLib/src/stm32f10x_flash.c **** }
 361:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 362:StdPeriphLib/src/stm32f10x_flash.c **** 
 363:StdPeriphLib/src/stm32f10x_flash.c **** /**
 364:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Program Erase Controller.
 365:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 366:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1 and Bank2.
 367:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 368:StdPeriphLib/src/stm32f10x_flash.c ****   *           to FLASH_LockBank1 function.
 369:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 370:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 371:StdPeriphLib/src/stm32f10x_flash.c ****   */
 372:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_Lock(void)
 373:StdPeriphLib/src/stm32f10x_flash.c **** {
 194              		.loc 1 373 0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
 198              		@ link register save eliminated.
 374:StdPeriphLib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 375:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 199              		.loc 1 375 0
 200 0000 024B     		ldr	r3, .L17
 201 0002 1A69     		ldr	r2, [r3, #16]
 202 0004 42F08002 		orr	r2, r2, #128
 203 0008 1A61     		str	r2, [r3, #16]
 204 000a 7047     		bx	lr
 205              	.L18:
 206              		.align	2
 207              	.L17:
 208 000c 00200240 		.word	1073881088
 209              		.cfi_endproc
 210              	.LFE34:
 211              		.fnend
 213              		.section	.text.FLASH_LockBank1,"ax",%progbits
 214              		.align	1
 215              		.global	FLASH_LockBank1
 216              		.thumb
 217              		.thumb_func
 219              	FLASH_LockBank1:
 220              		.fnstart
 221              	.LFB35:
 376:StdPeriphLib/src/stm32f10x_flash.c **** 
 377:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 378:StdPeriphLib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 379:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 380:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 381:StdPeriphLib/src/stm32f10x_flash.c **** }
 382:StdPeriphLib/src/stm32f10x_flash.c **** 
 383:StdPeriphLib/src/stm32f10x_flash.c **** /**
 384:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank1 Program Erase Controller.
 385:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   this function can be used for all STM32F10x devices.
 386:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1.
 387:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 388:StdPeriphLib/src/stm32f10x_flash.c ****   *           to FLASH_Lock function.
 389:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 390:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 391:StdPeriphLib/src/stm32f10x_flash.c ****   */
 392:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_LockBank1(void)
 393:StdPeriphLib/src/stm32f10x_flash.c **** {
 222              		.loc 1 393 0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		@ link register save eliminated.
 394:StdPeriphLib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 395:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 227              		.loc 1 395 0
 228 0000 024B     		ldr	r3, .L20
 229 0002 1A69     		ldr	r2, [r3, #16]
 230 0004 42F08002 		orr	r2, r2, #128
 231 0008 1A61     		str	r2, [r3, #16]
 232 000a 7047     		bx	lr
 233              	.L21:
 234              		.align	2
 235              	.L20:
 236 000c 00200240 		.word	1073881088
 237              		.cfi_endproc
 238              	.LFE35:
 239              		.fnend
 241              		.section	.text.FLASH_GetUserOptionByte,"ax",%progbits
 242              		.align	1
 243              		.global	FLASH_GetUserOptionByte
 244              		.thumb
 245              		.thumb_func
 247              	FLASH_GetUserOptionByte:
 248              		.fnstart
 249              	.LFB46:
 396:StdPeriphLib/src/stm32f10x_flash.c **** }
 397:StdPeriphLib/src/stm32f10x_flash.c **** 
 398:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 399:StdPeriphLib/src/stm32f10x_flash.c **** /**
 400:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank2 Program Erase Controller.
 401:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 402:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 403:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
 404:StdPeriphLib/src/stm32f10x_flash.c ****   */
 405:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_LockBank2(void)
 406:StdPeriphLib/src/stm32f10x_flash.c **** {
 407:StdPeriphLib/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 408:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 409:StdPeriphLib/src/stm32f10x_flash.c **** }
 410:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 411:StdPeriphLib/src/stm32f10x_flash.c **** 
 412:StdPeriphLib/src/stm32f10x_flash.c **** /**
 413:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Erases a specified FLASH page.
 414:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 415:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Page_Address: The page address to be erased.
 416:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
 417:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 418:StdPeriphLib/src/stm32f10x_flash.c ****   */
 419:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ErasePage(uint32_t Page_Address)
 420:StdPeriphLib/src/stm32f10x_flash.c **** {
 421:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 422:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 423:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Page_Address));
 424:StdPeriphLib/src/stm32f10x_flash.c **** 
 425:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 426:StdPeriphLib/src/stm32f10x_flash.c ****   if(Page_Address < FLASH_BANK1_END_ADDRESS)  
 427:StdPeriphLib/src/stm32f10x_flash.c ****   {
 428:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 429:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 430:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 431:StdPeriphLib/src/stm32f10x_flash.c ****     { 
 432:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 433:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR|= CR_PER_Set;
 434:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->AR = Page_Address; 
 435:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR|= CR_STRT_Set;
 436:StdPeriphLib/src/stm32f10x_flash.c ****     
 437:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 438:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 439:StdPeriphLib/src/stm32f10x_flash.c **** 
 440:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PER Bit */
 441:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PER_Reset;
 442:StdPeriphLib/src/stm32f10x_flash.c ****     }
 443:StdPeriphLib/src/stm32f10x_flash.c ****   }
 444:StdPeriphLib/src/stm32f10x_flash.c ****   else
 445:StdPeriphLib/src/stm32f10x_flash.c ****   {
 446:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 447:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 448:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 449:StdPeriphLib/src/stm32f10x_flash.c ****     { 
 450:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 451:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_PER_Set;
 452:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->AR2 = Page_Address; 
 453:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_STRT_Set;
 454:StdPeriphLib/src/stm32f10x_flash.c ****     
 455:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 456:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 457:StdPeriphLib/src/stm32f10x_flash.c ****       
 458:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PER Bit */
 459:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PER_Reset;
 460:StdPeriphLib/src/stm32f10x_flash.c ****     }
 461:StdPeriphLib/src/stm32f10x_flash.c ****   }
 462:StdPeriphLib/src/stm32f10x_flash.c **** #else
 463:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 464:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 465:StdPeriphLib/src/stm32f10x_flash.c ****   
 466:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 467:StdPeriphLib/src/stm32f10x_flash.c ****   { 
 468:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the page */
 469:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_PER_Set;
 470:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->AR = Page_Address; 
 471:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_STRT_Set;
 472:StdPeriphLib/src/stm32f10x_flash.c ****     
 473:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 474:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 475:StdPeriphLib/src/stm32f10x_flash.c ****     
 476:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the PER Bit */
 477:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PER_Reset;
 478:StdPeriphLib/src/stm32f10x_flash.c ****   }
 479:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 480:StdPeriphLib/src/stm32f10x_flash.c **** 
 481:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 482:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 483:StdPeriphLib/src/stm32f10x_flash.c **** }
 484:StdPeriphLib/src/stm32f10x_flash.c **** 
 485:StdPeriphLib/src/stm32f10x_flash.c **** /**
 486:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Erases all FLASH pages.
 487:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 488:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 489:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 490:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 491:StdPeriphLib/src/stm32f10x_flash.c ****   */
 492:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllPages(void)
 493:StdPeriphLib/src/stm32f10x_flash.c **** {
 494:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 495:StdPeriphLib/src/stm32f10x_flash.c **** 
 496:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 497:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 498:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 499:StdPeriphLib/src/stm32f10x_flash.c ****   
 500:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 501:StdPeriphLib/src/stm32f10x_flash.c ****   {
 502:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 503:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 504:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 505:StdPeriphLib/src/stm32f10x_flash.c ****     
 506:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 507:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 508:StdPeriphLib/src/stm32f10x_flash.c ****     
 509:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 510:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 511:StdPeriphLib/src/stm32f10x_flash.c ****   }    
 512:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 513:StdPeriphLib/src/stm32f10x_flash.c ****   {
 514:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 515:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 516:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 517:StdPeriphLib/src/stm32f10x_flash.c ****     
 518:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 519:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 520:StdPeriphLib/src/stm32f10x_flash.c ****     
 521:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 522:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR2 &= CR_MER_Reset;
 523:StdPeriphLib/src/stm32f10x_flash.c ****   }
 524:StdPeriphLib/src/stm32f10x_flash.c **** #else
 525:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 526:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 527:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 528:StdPeriphLib/src/stm32f10x_flash.c ****   {
 529:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 530:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 531:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 532:StdPeriphLib/src/stm32f10x_flash.c ****     
 533:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 534:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 535:StdPeriphLib/src/stm32f10x_flash.c **** 
 536:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 537:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 538:StdPeriphLib/src/stm32f10x_flash.c ****   }
 539:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 540:StdPeriphLib/src/stm32f10x_flash.c **** 
 541:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 542:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 543:StdPeriphLib/src/stm32f10x_flash.c **** }
 544:StdPeriphLib/src/stm32f10x_flash.c **** 
 545:StdPeriphLib/src/stm32f10x_flash.c **** /**
 546:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Erases all Bank1 FLASH pages.
 547:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 548:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function erases all Bank1 pages.
 549:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it erases all Bank1 pages and it is equivalent 
 550:StdPeriphLib/src/stm32f10x_flash.c ****   *           to FLASH_EraseAllPages function.
 551:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 552:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 553:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 554:StdPeriphLib/src/stm32f10x_flash.c ****   */
 555:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank1Pages(void)
 556:StdPeriphLib/src/stm32f10x_flash.c **** {
 557:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 558:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 559:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 560:StdPeriphLib/src/stm32f10x_flash.c ****   
 561:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 562:StdPeriphLib/src/stm32f10x_flash.c ****   {
 563:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 564:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 565:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 566:StdPeriphLib/src/stm32f10x_flash.c ****     
 567:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 568:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 569:StdPeriphLib/src/stm32f10x_flash.c ****     
 570:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 571:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 572:StdPeriphLib/src/stm32f10x_flash.c ****   }    
 573:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 574:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 575:StdPeriphLib/src/stm32f10x_flash.c **** }
 576:StdPeriphLib/src/stm32f10x_flash.c **** 
 577:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 578:StdPeriphLib/src/stm32f10x_flash.c **** /**
 579:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Erases all Bank2 FLASH pages.
 580:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
 581:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 582:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 583:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 584:StdPeriphLib/src/stm32f10x_flash.c ****   */
 585:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank2Pages(void)
 586:StdPeriphLib/src/stm32f10x_flash.c **** {
 587:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 588:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 589:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 590:StdPeriphLib/src/stm32f10x_flash.c ****   
 591:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 592:StdPeriphLib/src/stm32f10x_flash.c ****   {
 593:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 594:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 595:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 596:StdPeriphLib/src/stm32f10x_flash.c ****     
 597:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 598:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 599:StdPeriphLib/src/stm32f10x_flash.c **** 
 600:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 601:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR2 &= CR_MER_Reset;
 602:StdPeriphLib/src/stm32f10x_flash.c ****   }    
 603:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 604:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 605:StdPeriphLib/src/stm32f10x_flash.c **** }
 606:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 607:StdPeriphLib/src/stm32f10x_flash.c **** 
 608:StdPeriphLib/src/stm32f10x_flash.c **** /**
 609:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Erases the FLASH option bytes.
 610:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This functions erases all option bytes except the Read protection (RDP). 
 611:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 612:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
 613:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 614:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 615:StdPeriphLib/src/stm32f10x_flash.c ****   */
 616:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseOptionBytes(void)
 617:StdPeriphLib/src/stm32f10x_flash.c **** {
 618:StdPeriphLib/src/stm32f10x_flash.c ****   uint16_t rdptmp = RDP_Key;
 619:StdPeriphLib/src/stm32f10x_flash.c **** 
 620:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 621:StdPeriphLib/src/stm32f10x_flash.c **** 
 622:StdPeriphLib/src/stm32f10x_flash.c ****   /* Get the actual read protection Option Byte value */ 
 623:StdPeriphLib/src/stm32f10x_flash.c ****   if(FLASH_GetReadOutProtectionStatus() != RESET)
 624:StdPeriphLib/src/stm32f10x_flash.c ****   {
 625:StdPeriphLib/src/stm32f10x_flash.c ****     rdptmp = 0x00;  
 626:StdPeriphLib/src/stm32f10x_flash.c ****   }
 627:StdPeriphLib/src/stm32f10x_flash.c **** 
 628:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 629:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 630:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 631:StdPeriphLib/src/stm32f10x_flash.c ****   {
 632:StdPeriphLib/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 633:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 634:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 635:StdPeriphLib/src/stm32f10x_flash.c ****     
 636:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the option bytes */
 637:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 638:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 639:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 640:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 641:StdPeriphLib/src/stm32f10x_flash.c ****     
 642:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 643:StdPeriphLib/src/stm32f10x_flash.c ****     {
 644:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
 645:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 646:StdPeriphLib/src/stm32f10x_flash.c ****        
 647:StdPeriphLib/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
 648:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set;
 649:StdPeriphLib/src/stm32f10x_flash.c ****       /* Restore the last read protection Option Byte value */
 650:StdPeriphLib/src/stm32f10x_flash.c ****       OB->RDP = (uint16_t)rdptmp; 
 651:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 652:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 653:StdPeriphLib/src/stm32f10x_flash.c ****  
 654:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 655:StdPeriphLib/src/stm32f10x_flash.c ****       {
 656:StdPeriphLib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
 657:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 658:StdPeriphLib/src/stm32f10x_flash.c ****       }
 659:StdPeriphLib/src/stm32f10x_flash.c ****     }
 660:StdPeriphLib/src/stm32f10x_flash.c ****     else
 661:StdPeriphLib/src/stm32f10x_flash.c ****     {
 662:StdPeriphLib/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 663:StdPeriphLib/src/stm32f10x_flash.c ****       {
 664:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the OPTPG Bit */
 665:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 666:StdPeriphLib/src/stm32f10x_flash.c ****       }
 667:StdPeriphLib/src/stm32f10x_flash.c ****     }  
 668:StdPeriphLib/src/stm32f10x_flash.c ****   }
 669:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the erase status */
 670:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 671:StdPeriphLib/src/stm32f10x_flash.c **** }
 672:StdPeriphLib/src/stm32f10x_flash.c **** 
 673:StdPeriphLib/src/stm32f10x_flash.c **** /**
 674:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Programs a word at a specified address.
 675:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 676:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 677:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 678:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 679:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 680:StdPeriphLib/src/stm32f10x_flash.c ****   */
 681:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramWord(uint32_t Address, uint32_t Data)
 682:StdPeriphLib/src/stm32f10x_flash.c **** {
 683:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 684:StdPeriphLib/src/stm32f10x_flash.c ****   __IO uint32_t tmp = 0;
 685:StdPeriphLib/src/stm32f10x_flash.c **** 
 686:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 687:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 688:StdPeriphLib/src/stm32f10x_flash.c **** 
 689:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 690:StdPeriphLib/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS - 2)
 691:StdPeriphLib/src/stm32f10x_flash.c ****   { 
 692:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 693:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout); 
 694:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 695:StdPeriphLib/src/stm32f10x_flash.c ****     {
 696:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 697:StdPeriphLib/src/stm32f10x_flash.c ****         half word */
 698:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 699:StdPeriphLib/src/stm32f10x_flash.c ****   
 700:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 701:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 702:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 703:StdPeriphLib/src/stm32f10x_flash.c ****  
 704:StdPeriphLib/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 705:StdPeriphLib/src/stm32f10x_flash.c ****       {
 706:StdPeriphLib/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 707:StdPeriphLib/src/stm32f10x_flash.c ****         half word */
 708:StdPeriphLib/src/stm32f10x_flash.c ****         tmp = Address + 2;
 709:StdPeriphLib/src/stm32f10x_flash.c **** 
 710:StdPeriphLib/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 711:StdPeriphLib/src/stm32f10x_flash.c ****     
 712:StdPeriphLib/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 713:StdPeriphLib/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastOperation(ProgramTimeout);
 714:StdPeriphLib/src/stm32f10x_flash.c ****         
 715:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 716:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 717:StdPeriphLib/src/stm32f10x_flash.c ****       }
 718:StdPeriphLib/src/stm32f10x_flash.c ****       else
 719:StdPeriphLib/src/stm32f10x_flash.c ****       {
 720:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 721:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 722:StdPeriphLib/src/stm32f10x_flash.c ****        }
 723:StdPeriphLib/src/stm32f10x_flash.c ****     }
 724:StdPeriphLib/src/stm32f10x_flash.c ****   }
 725:StdPeriphLib/src/stm32f10x_flash.c ****   else if(Address == (FLASH_BANK1_END_ADDRESS - 1))
 726:StdPeriphLib/src/stm32f10x_flash.c ****   {
 727:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 728:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 729:StdPeriphLib/src/stm32f10x_flash.c **** 
 730:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 731:StdPeriphLib/src/stm32f10x_flash.c ****     {
 732:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 733:StdPeriphLib/src/stm32f10x_flash.c ****         half word */
 734:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 735:StdPeriphLib/src/stm32f10x_flash.c ****   
 736:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 737:StdPeriphLib/src/stm32f10x_flash.c **** 
 738:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 739:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 740:StdPeriphLib/src/stm32f10x_flash.c ****       
 741:StdPeriphLib/src/stm32f10x_flash.c **** 	  /* Disable the PG Bit */
 742:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 743:StdPeriphLib/src/stm32f10x_flash.c ****     }
 744:StdPeriphLib/src/stm32f10x_flash.c ****     else
 745:StdPeriphLib/src/stm32f10x_flash.c ****     {
 746:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 747:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 748:StdPeriphLib/src/stm32f10x_flash.c ****     }
 749:StdPeriphLib/src/stm32f10x_flash.c **** 
 750:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 751:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 752:StdPeriphLib/src/stm32f10x_flash.c **** 
 753:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 754:StdPeriphLib/src/stm32f10x_flash.c ****     {
 755:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 756:StdPeriphLib/src/stm32f10x_flash.c ****       half word */
 757:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 758:StdPeriphLib/src/stm32f10x_flash.c ****       tmp = Address + 2;
 759:StdPeriphLib/src/stm32f10x_flash.c **** 
 760:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 761:StdPeriphLib/src/stm32f10x_flash.c ****     
 762:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 763:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 764:StdPeriphLib/src/stm32f10x_flash.c ****         
 765:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 766:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 767:StdPeriphLib/src/stm32f10x_flash.c ****     }
 768:StdPeriphLib/src/stm32f10x_flash.c ****     else
 769:StdPeriphLib/src/stm32f10x_flash.c ****     {
 770:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 771:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 772:StdPeriphLib/src/stm32f10x_flash.c ****     }
 773:StdPeriphLib/src/stm32f10x_flash.c ****   }
 774:StdPeriphLib/src/stm32f10x_flash.c ****   else
 775:StdPeriphLib/src/stm32f10x_flash.c ****   {
 776:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 777:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 778:StdPeriphLib/src/stm32f10x_flash.c **** 
 779:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 780:StdPeriphLib/src/stm32f10x_flash.c ****     {
 781:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 782:StdPeriphLib/src/stm32f10x_flash.c ****         half word */
 783:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 784:StdPeriphLib/src/stm32f10x_flash.c ****   
 785:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 786:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 787:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 788:StdPeriphLib/src/stm32f10x_flash.c ****  
 789:StdPeriphLib/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 790:StdPeriphLib/src/stm32f10x_flash.c ****       {
 791:StdPeriphLib/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 792:StdPeriphLib/src/stm32f10x_flash.c ****         half word */
 793:StdPeriphLib/src/stm32f10x_flash.c ****         tmp = Address + 2;
 794:StdPeriphLib/src/stm32f10x_flash.c **** 
 795:StdPeriphLib/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 796:StdPeriphLib/src/stm32f10x_flash.c ****     
 797:StdPeriphLib/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 798:StdPeriphLib/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 799:StdPeriphLib/src/stm32f10x_flash.c ****         
 800:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 801:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 802:StdPeriphLib/src/stm32f10x_flash.c ****       }
 803:StdPeriphLib/src/stm32f10x_flash.c ****       else
 804:StdPeriphLib/src/stm32f10x_flash.c ****       {
 805:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 806:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 807:StdPeriphLib/src/stm32f10x_flash.c ****       }
 808:StdPeriphLib/src/stm32f10x_flash.c ****     }
 809:StdPeriphLib/src/stm32f10x_flash.c ****   }
 810:StdPeriphLib/src/stm32f10x_flash.c **** #else
 811:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 812:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 813:StdPeriphLib/src/stm32f10x_flash.c ****   
 814:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 815:StdPeriphLib/src/stm32f10x_flash.c ****   {
 816:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new first 
 817:StdPeriphLib/src/stm32f10x_flash.c ****     half word */
 818:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 819:StdPeriphLib/src/stm32f10x_flash.c ****   
 820:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = (uint16_t)Data;
 821:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 822:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 823:StdPeriphLib/src/stm32f10x_flash.c ****  
 824:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 825:StdPeriphLib/src/stm32f10x_flash.c ****     {
 826:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 827:StdPeriphLib/src/stm32f10x_flash.c ****       half word */
 828:StdPeriphLib/src/stm32f10x_flash.c ****       tmp = Address + 2;
 829:StdPeriphLib/src/stm32f10x_flash.c **** 
 830:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 831:StdPeriphLib/src/stm32f10x_flash.c ****     
 832:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 833:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 834:StdPeriphLib/src/stm32f10x_flash.c ****         
 835:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 836:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 837:StdPeriphLib/src/stm32f10x_flash.c ****     }
 838:StdPeriphLib/src/stm32f10x_flash.c ****     else
 839:StdPeriphLib/src/stm32f10x_flash.c ****     {
 840:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 841:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 842:StdPeriphLib/src/stm32f10x_flash.c ****     }
 843:StdPeriphLib/src/stm32f10x_flash.c ****   }         
 844:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 845:StdPeriphLib/src/stm32f10x_flash.c ****    
 846:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Program Status */
 847:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 848:StdPeriphLib/src/stm32f10x_flash.c **** }
 849:StdPeriphLib/src/stm32f10x_flash.c **** 
 850:StdPeriphLib/src/stm32f10x_flash.c **** /**
 851:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified address.
 852:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 853:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 854:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 855:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 856:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 857:StdPeriphLib/src/stm32f10x_flash.c ****   */
 858:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramHalfWord(uint32_t Address, uint16_t Data)
 859:StdPeriphLib/src/stm32f10x_flash.c **** {
 860:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 861:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 862:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 863:StdPeriphLib/src/stm32f10x_flash.c **** 
 864:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 865:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 866:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 867:StdPeriphLib/src/stm32f10x_flash.c ****   
 868:StdPeriphLib/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS)
 869:StdPeriphLib/src/stm32f10x_flash.c ****   {
 870:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 871:StdPeriphLib/src/stm32f10x_flash.c ****     {
 872:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 873:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 874:StdPeriphLib/src/stm32f10x_flash.c ****   
 875:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 876:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 877:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 878:StdPeriphLib/src/stm32f10x_flash.c **** 
 879:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 880:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 881:StdPeriphLib/src/stm32f10x_flash.c ****     }
 882:StdPeriphLib/src/stm32f10x_flash.c ****   }
 883:StdPeriphLib/src/stm32f10x_flash.c ****   else
 884:StdPeriphLib/src/stm32f10x_flash.c ****   {
 885:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 886:StdPeriphLib/src/stm32f10x_flash.c ****     {
 887:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 888:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 889:StdPeriphLib/src/stm32f10x_flash.c ****   
 890:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 891:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 892:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 893:StdPeriphLib/src/stm32f10x_flash.c **** 
 894:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 895:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 896:StdPeriphLib/src/stm32f10x_flash.c ****     }
 897:StdPeriphLib/src/stm32f10x_flash.c ****   }
 898:StdPeriphLib/src/stm32f10x_flash.c **** #else
 899:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 900:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 901:StdPeriphLib/src/stm32f10x_flash.c ****   
 902:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 903:StdPeriphLib/src/stm32f10x_flash.c ****   {
 904:StdPeriphLib/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new data */
 905:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 906:StdPeriphLib/src/stm32f10x_flash.c ****   
 907:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 908:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 909:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 910:StdPeriphLib/src/stm32f10x_flash.c ****     
 911:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the PG Bit */
 912:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PG_Reset;
 913:StdPeriphLib/src/stm32f10x_flash.c ****   } 
 914:StdPeriphLib/src/stm32f10x_flash.c **** #endif  /* STM32F10X_XL */
 915:StdPeriphLib/src/stm32f10x_flash.c ****   
 916:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Program Status */
 917:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 918:StdPeriphLib/src/stm32f10x_flash.c **** }
 919:StdPeriphLib/src/stm32f10x_flash.c **** 
 920:StdPeriphLib/src/stm32f10x_flash.c **** /**
 921:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified Option Byte Data address.
 922:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 923:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 924:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be 0x1FFFF804 or 0x1FFFF806. 
 925:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 926:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 927:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 928:StdPeriphLib/src/stm32f10x_flash.c ****   */
 929:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramOptionByteData(uint32_t Address, uint8_t Data)
 930:StdPeriphLib/src/stm32f10x_flash.c **** {
 931:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 932:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 933:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_OB_DATA_ADDRESS(Address));
 934:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 935:StdPeriphLib/src/stm32f10x_flash.c **** 
 936:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 937:StdPeriphLib/src/stm32f10x_flash.c ****   {
 938:StdPeriphLib/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 939:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 940:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 941:StdPeriphLib/src/stm32f10x_flash.c ****     /* Enables the Option Bytes Programming operation */
 942:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 943:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 944:StdPeriphLib/src/stm32f10x_flash.c ****     
 945:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 946:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 947:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 948:StdPeriphLib/src/stm32f10x_flash.c ****     {
 949:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
 950:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 951:StdPeriphLib/src/stm32f10x_flash.c ****     }
 952:StdPeriphLib/src/stm32f10x_flash.c ****   }
 953:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Option Byte Data Program Status */
 954:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
 955:StdPeriphLib/src/stm32f10x_flash.c **** }
 956:StdPeriphLib/src/stm32f10x_flash.c **** 
 957:StdPeriphLib/src/stm32f10x_flash.c **** /**
 958:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Write protects the desired pages
 959:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 960:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_Pages: specifies the address of the pages to be write protected.
 961:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be:
 962:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Low-density_devices: value between FLASH_WRProt_Pages0to3 and FLASH_WRPro
 963:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Medium-density_devices: value between FLASH_WRProt_Pages0to3
 964:StdPeriphLib/src/stm32f10x_flash.c ****   *       and FLASH_WRProt_Pages124to127
 965:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_High-density_devices: value between FLASH_WRProt_Pages0to1 and
 966:StdPeriphLib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to255
 967:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Connectivity_line_devices: value between FLASH_WRProt_Pages0to1 and
 968:StdPeriphLib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to127    
 969:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg For @b STM32_XL-density_devices: value between FLASH_WRProt_Pages0to1 and
 970:StdPeriphLib/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to511
 971:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_WRProt_AllPages
 972:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 973:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 974:StdPeriphLib/src/stm32f10x_flash.c ****   */
 975:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_EnableWriteProtection(uint32_t FLASH_Pages)
 976:StdPeriphLib/src/stm32f10x_flash.c **** {
 977:StdPeriphLib/src/stm32f10x_flash.c ****   uint16_t WRP0_Data = 0xFFFF, WRP1_Data = 0xFFFF, WRP2_Data = 0xFFFF, WRP3_Data = 0xFFFF;
 978:StdPeriphLib/src/stm32f10x_flash.c ****   
 979:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 980:StdPeriphLib/src/stm32f10x_flash.c ****   
 981:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
 982:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_WRPROT_PAGE(FLASH_Pages));
 983:StdPeriphLib/src/stm32f10x_flash.c ****   
 984:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Pages = (uint32_t)(~FLASH_Pages);
 985:StdPeriphLib/src/stm32f10x_flash.c ****   WRP0_Data = (uint16_t)(FLASH_Pages & WRP0_Mask);
 986:StdPeriphLib/src/stm32f10x_flash.c ****   WRP1_Data = (uint16_t)((FLASH_Pages & WRP1_Mask) >> 8);
 987:StdPeriphLib/src/stm32f10x_flash.c ****   WRP2_Data = (uint16_t)((FLASH_Pages & WRP2_Mask) >> 16);
 988:StdPeriphLib/src/stm32f10x_flash.c ****   WRP3_Data = (uint16_t)((FLASH_Pages & WRP3_Mask) >> 24);
 989:StdPeriphLib/src/stm32f10x_flash.c ****   
 990:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 991:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 992:StdPeriphLib/src/stm32f10x_flash.c ****   
 993:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 994:StdPeriphLib/src/stm32f10x_flash.c ****   {
 995:StdPeriphLib/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
 996:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 997:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 998:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 999:StdPeriphLib/src/stm32f10x_flash.c ****     if(WRP0_Data != 0xFF)
1000:StdPeriphLib/src/stm32f10x_flash.c ****     {
1001:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP0 = WRP0_Data;
1002:StdPeriphLib/src/stm32f10x_flash.c ****       
1003:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1004:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
1005:StdPeriphLib/src/stm32f10x_flash.c ****     }
1006:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP1_Data != 0xFF))
1007:StdPeriphLib/src/stm32f10x_flash.c ****     {
1008:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP1 = WRP1_Data;
1009:StdPeriphLib/src/stm32f10x_flash.c ****       
1010:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1011:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
1012:StdPeriphLib/src/stm32f10x_flash.c ****     }
1013:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP2_Data != 0xFF))
1014:StdPeriphLib/src/stm32f10x_flash.c ****     {
1015:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP2 = WRP2_Data;
1016:StdPeriphLib/src/stm32f10x_flash.c ****       
1017:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1018:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
1019:StdPeriphLib/src/stm32f10x_flash.c ****     }
1020:StdPeriphLib/src/stm32f10x_flash.c ****     
1021:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE)&& (WRP3_Data != 0xFF))
1022:StdPeriphLib/src/stm32f10x_flash.c ****     {
1023:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP3 = WRP3_Data;
1024:StdPeriphLib/src/stm32f10x_flash.c ****      
1025:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1026:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
1027:StdPeriphLib/src/stm32f10x_flash.c ****     }
1028:StdPeriphLib/src/stm32f10x_flash.c ****           
1029:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
1030:StdPeriphLib/src/stm32f10x_flash.c ****     {
1031:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1032:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
1033:StdPeriphLib/src/stm32f10x_flash.c ****     }
1034:StdPeriphLib/src/stm32f10x_flash.c ****   } 
1035:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the write protection operation Status */
1036:StdPeriphLib/src/stm32f10x_flash.c ****   return status;       
1037:StdPeriphLib/src/stm32f10x_flash.c **** }
1038:StdPeriphLib/src/stm32f10x_flash.c **** 
1039:StdPeriphLib/src/stm32f10x_flash.c **** /**
1040:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the read out protection.
1041:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   If the user has already programmed the other option bytes before calling 
1042:StdPeriphLib/src/stm32f10x_flash.c ****   *   this function, he must re-program them since this function erases all option bytes.
1043:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1044:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Newstate: new state of the ReadOut Protection.
1045:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.
1046:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1047:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1048:StdPeriphLib/src/stm32f10x_flash.c ****   */
1049:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_ReadOutProtection(FunctionalState NewState)
1050:StdPeriphLib/src/stm32f10x_flash.c **** {
1051:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
1052:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1053:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1054:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
1055:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
1056:StdPeriphLib/src/stm32f10x_flash.c ****   {
1057:StdPeriphLib/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
1058:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
1059:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
1060:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
1061:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
1062:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1063:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
1064:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
1065:StdPeriphLib/src/stm32f10x_flash.c ****     {
1066:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
1067:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
1068:StdPeriphLib/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
1069:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set; 
1070:StdPeriphLib/src/stm32f10x_flash.c ****       if(NewState != DISABLE)
1071:StdPeriphLib/src/stm32f10x_flash.c ****       {
1072:StdPeriphLib/src/stm32f10x_flash.c ****         OB->RDP = 0x00;
1073:StdPeriphLib/src/stm32f10x_flash.c ****       }
1074:StdPeriphLib/src/stm32f10x_flash.c ****       else
1075:StdPeriphLib/src/stm32f10x_flash.c ****       {
1076:StdPeriphLib/src/stm32f10x_flash.c ****         OB->RDP = RDP_Key;  
1077:StdPeriphLib/src/stm32f10x_flash.c ****       }
1078:StdPeriphLib/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1079:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(EraseTimeout); 
1080:StdPeriphLib/src/stm32f10x_flash.c ****     
1081:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
1082:StdPeriphLib/src/stm32f10x_flash.c ****       {
1083:StdPeriphLib/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
1084:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
1085:StdPeriphLib/src/stm32f10x_flash.c ****       }
1086:StdPeriphLib/src/stm32f10x_flash.c ****     }
1087:StdPeriphLib/src/stm32f10x_flash.c ****     else 
1088:StdPeriphLib/src/stm32f10x_flash.c ****     {
1089:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
1090:StdPeriphLib/src/stm32f10x_flash.c ****       {
1091:StdPeriphLib/src/stm32f10x_flash.c ****         /* Disable the OPTER Bit */
1092:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTER_Reset;
1093:StdPeriphLib/src/stm32f10x_flash.c ****       }
1094:StdPeriphLib/src/stm32f10x_flash.c ****     }
1095:StdPeriphLib/src/stm32f10x_flash.c ****   }
1096:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the protection operation Status */
1097:StdPeriphLib/src/stm32f10x_flash.c ****   return status;       
1098:StdPeriphLib/src/stm32f10x_flash.c **** }
1099:StdPeriphLib/src/stm32f10x_flash.c **** 
1100:StdPeriphLib/src/stm32f10x_flash.c **** /**
1101:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Programs the FLASH User Option Byte: IWDG_SW / RST_STOP / RST_STDBY.
1102:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1103:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  OB_IWDG: Selects the IWDG mode
1104:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1105:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_SW: Software IWDG selected
1106:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_HW: Hardware IWDG selected
1107:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  OB_STOP: Reset event when entering STOP mode.
1108:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1109:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_STOP_NoRST: No reset generated when entering in STOP
1110:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_STOP_RST: Reset generated when entering in STOP
1111:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  OB_STDBY: Reset event when entering Standby mode.
1112:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1113:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_NoRST: No reset generated when entering in STANDBY
1114:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_RST: Reset generated when entering in STANDBY
1115:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1116:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1117:StdPeriphLib/src/stm32f10x_flash.c ****   */
1118:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_UserOptionByteConfig(uint16_t OB_IWDG, uint16_t OB_STOP, uint16_t OB_STDBY)
1119:StdPeriphLib/src/stm32f10x_flash.c **** {
1120:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
1121:StdPeriphLib/src/stm32f10x_flash.c **** 
1122:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1123:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_OB_IWDG_SOURCE(OB_IWDG));
1124:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_OB_STOP_SOURCE(OB_STOP));
1125:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_OB_STDBY_SOURCE(OB_STDBY));
1126:StdPeriphLib/src/stm32f10x_flash.c **** 
1127:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1128:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
1129:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
1130:StdPeriphLib/src/stm32f10x_flash.c ****   
1131:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1132:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
1133:StdPeriphLib/src/stm32f10x_flash.c ****   
1134:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
1135:StdPeriphLib/src/stm32f10x_flash.c ****   {  
1136:StdPeriphLib/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1137:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
1138:StdPeriphLib/src/stm32f10x_flash.c ****            
1139:StdPeriphLib/src/stm32f10x_flash.c ****     OB->USER = OB_IWDG | (uint16_t)(OB_STOP | (uint16_t)(OB_STDBY | ((uint16_t)0xF8))); 
1140:StdPeriphLib/src/stm32f10x_flash.c ****   
1141:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1142:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
1143:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
1144:StdPeriphLib/src/stm32f10x_flash.c ****     {
1145:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1146:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
1147:StdPeriphLib/src/stm32f10x_flash.c ****     }
1148:StdPeriphLib/src/stm32f10x_flash.c ****   }    
1149:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1150:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
1151:StdPeriphLib/src/stm32f10x_flash.c **** }
1152:StdPeriphLib/src/stm32f10x_flash.c **** 
1153:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1154:StdPeriphLib/src/stm32f10x_flash.c **** /**
1155:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Configures to boot from Bank1 or Bank2.  
1156:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
1157:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_BOOT: select the FLASH Bank to boot from.
1158:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1159:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank1: At startup, if boot pins are set in boot from user Flash
1160:StdPeriphLib/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank1(Default).
1161:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank2: At startup, if boot pins are set in boot from user Flash
1162:StdPeriphLib/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank2 or Bank1,
1163:StdPeriphLib/src/stm32f10x_flash.c ****   *        depending on the activation of the bank. The active banks are checked in
1164:StdPeriphLib/src/stm32f10x_flash.c ****   *        the following order: Bank2, followed by Bank1.
1165:StdPeriphLib/src/stm32f10x_flash.c ****   *        The active bank is recognized by the value programmed at the base address
1166:StdPeriphLib/src/stm32f10x_flash.c ****   *        of the respective bank (corresponding to the initial stack pointer value
1167:StdPeriphLib/src/stm32f10x_flash.c ****   *        in the interrupt vector table).
1168:StdPeriphLib/src/stm32f10x_flash.c ****   *        For more information, please refer to AN2606 from www.st.com.    
1169:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1170:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1171:StdPeriphLib/src/stm32f10x_flash.c ****   */
1172:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_BootConfig(uint16_t FLASH_BOOT)
1173:StdPeriphLib/src/stm32f10x_flash.c **** { 
1174:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
1175:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_BOOT(FLASH_BOOT));
1176:StdPeriphLib/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1177:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
1178:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
1179:StdPeriphLib/src/stm32f10x_flash.c ****   
1180:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1181:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
1182:StdPeriphLib/src/stm32f10x_flash.c ****   
1183:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
1184:StdPeriphLib/src/stm32f10x_flash.c ****   {  
1185:StdPeriphLib/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1186:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
1187:StdPeriphLib/src/stm32f10x_flash.c **** 
1188:StdPeriphLib/src/stm32f10x_flash.c ****     if(FLASH_BOOT == FLASH_BOOT_Bank1)
1189:StdPeriphLib/src/stm32f10x_flash.c ****     {
1190:StdPeriphLib/src/stm32f10x_flash.c ****       OB->USER |= OB_USER_BFB2;
1191:StdPeriphLib/src/stm32f10x_flash.c ****     }
1192:StdPeriphLib/src/stm32f10x_flash.c ****     else
1193:StdPeriphLib/src/stm32f10x_flash.c ****     {
1194:StdPeriphLib/src/stm32f10x_flash.c ****       OB->USER &= (uint16_t)(~(uint16_t)(OB_USER_BFB2));
1195:StdPeriphLib/src/stm32f10x_flash.c ****     }
1196:StdPeriphLib/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1197:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
1198:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
1199:StdPeriphLib/src/stm32f10x_flash.c ****     {
1200:StdPeriphLib/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1201:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
1202:StdPeriphLib/src/stm32f10x_flash.c ****     }
1203:StdPeriphLib/src/stm32f10x_flash.c ****   }    
1204:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1205:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
1206:StdPeriphLib/src/stm32f10x_flash.c **** }
1207:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1208:StdPeriphLib/src/stm32f10x_flash.c **** 
1209:StdPeriphLib/src/stm32f10x_flash.c **** /**
1210:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH User Option Bytes values.
1211:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1212:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1213:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval The FLASH User Option Bytes values:IWDG_SW(Bit0), RST_STOP(Bit1)
1214:StdPeriphLib/src/stm32f10x_flash.c ****   *         and RST_STDBY(Bit2).
1215:StdPeriphLib/src/stm32f10x_flash.c ****   */
1216:StdPeriphLib/src/stm32f10x_flash.c **** uint32_t FLASH_GetUserOptionByte(void)
1217:StdPeriphLib/src/stm32f10x_flash.c **** {
 250              		.loc 1 1217 0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 0
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254              		@ link register save eliminated.
1218:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the User Option Byte */
1219:StdPeriphLib/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->OBR >> 2);
 255              		.loc 1 1219 0
 256 0000 014B     		ldr	r3, .L23
 257 0002 D869     		ldr	r0, [r3, #28]
1220:StdPeriphLib/src/stm32f10x_flash.c **** }
 258              		.loc 1 1220 0
 259 0004 8008     		lsrs	r0, r0, #2
 260 0006 7047     		bx	lr
 261              	.L24:
 262              		.align	2
 263              	.L23:
 264 0008 00200240 		.word	1073881088
 265              		.cfi_endproc
 266              	.LFE46:
 267              		.fnend
 269              		.section	.text.FLASH_GetWriteProtectionOptionByte,"ax",%progbits
 270              		.align	1
 271              		.global	FLASH_GetWriteProtectionOptionByte
 272              		.thumb
 273              		.thumb_func
 275              	FLASH_GetWriteProtectionOptionByte:
 276              		.fnstart
 277              	.LFB47:
1221:StdPeriphLib/src/stm32f10x_flash.c **** 
1222:StdPeriphLib/src/stm32f10x_flash.c **** /**
1223:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Write Protection Option Bytes Register value.
1224:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1225:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1226:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval The FLASH Write Protection  Option Bytes Register value
1227:StdPeriphLib/src/stm32f10x_flash.c ****   */
1228:StdPeriphLib/src/stm32f10x_flash.c **** uint32_t FLASH_GetWriteProtectionOptionByte(void)
1229:StdPeriphLib/src/stm32f10x_flash.c **** {
 278              		.loc 1 1229 0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
 282              		@ link register save eliminated.
1230:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Flash write protection Register value */
1231:StdPeriphLib/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->WRPR);
 283              		.loc 1 1231 0
 284 0000 014B     		ldr	r3, .L26
 285 0002 186A     		ldr	r0, [r3, #32]
1232:StdPeriphLib/src/stm32f10x_flash.c **** }
 286              		.loc 1 1232 0
 287 0004 7047     		bx	lr
 288              	.L27:
 289 0006 00BF     		.align	2
 290              	.L26:
 291 0008 00200240 		.word	1073881088
 292              		.cfi_endproc
 293              	.LFE47:
 294              		.fnend
 296              		.section	.text.FLASH_GetReadOutProtectionStatus,"ax",%progbits
 297              		.align	1
 298              		.global	FLASH_GetReadOutProtectionStatus
 299              		.thumb
 300              		.thumb_func
 302              	FLASH_GetReadOutProtectionStatus:
 303              		.fnstart
 304              	.LFB48:
1233:StdPeriphLib/src/stm32f10x_flash.c **** 
1234:StdPeriphLib/src/stm32f10x_flash.c **** /**
1235:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Read Out Protection Status is set or not.
1236:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1237:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1238:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH ReadOut Protection Status(SET or RESET)
1239:StdPeriphLib/src/stm32f10x_flash.c ****   */
1240:StdPeriphLib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetReadOutProtectionStatus(void)
1241:StdPeriphLib/src/stm32f10x_flash.c **** {
 305              		.loc 1 1241 0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309              		@ link register save eliminated.
 310              	.LVL8:
1242:StdPeriphLib/src/stm32f10x_flash.c ****   FlagStatus readoutstatus = RESET;
1243:StdPeriphLib/src/stm32f10x_flash.c ****   if ((FLASH->OBR & RDPRT_Mask) != (uint32_t)RESET)
 311              		.loc 1 1243 0
 312 0000 024B     		ldr	r3, .L29
 313 0002 D869     		ldr	r0, [r3, #28]
 314              	.LVL9:
1244:StdPeriphLib/src/stm32f10x_flash.c ****   {
1245:StdPeriphLib/src/stm32f10x_flash.c ****     readoutstatus = SET;
1246:StdPeriphLib/src/stm32f10x_flash.c ****   }
1247:StdPeriphLib/src/stm32f10x_flash.c ****   else
1248:StdPeriphLib/src/stm32f10x_flash.c ****   {
1249:StdPeriphLib/src/stm32f10x_flash.c ****     readoutstatus = RESET;
1250:StdPeriphLib/src/stm32f10x_flash.c ****   }
1251:StdPeriphLib/src/stm32f10x_flash.c ****   return readoutstatus;
1252:StdPeriphLib/src/stm32f10x_flash.c **** }
 315              		.loc 1 1252 0
 316 0004 C0F34000 		ubfx	r0, r0, #1, #1
 317              	.LVL10:
 318 0008 7047     		bx	lr
 319              	.L30:
 320 000a 00BF     		.align	2
 321              	.L29:
 322 000c 00200240 		.word	1073881088
 323              		.cfi_endproc
 324              	.LFE48:
 325              		.fnend
 327              		.section	.text.FLASH_GetPrefetchBufferStatus,"ax",%progbits
 328              		.align	1
 329              		.global	FLASH_GetPrefetchBufferStatus
 330              		.thumb
 331              		.thumb_func
 333              	FLASH_GetPrefetchBufferStatus:
 334              		.fnstart
 335              	.LFB49:
1253:StdPeriphLib/src/stm32f10x_flash.c **** 
1254:StdPeriphLib/src/stm32f10x_flash.c **** /**
1255:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Prefetch Buffer status is set or not.
1256:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1257:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1258:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Prefetch Buffer Status (SET or RESET).
1259:StdPeriphLib/src/stm32f10x_flash.c ****   */
1260:StdPeriphLib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetPrefetchBufferStatus(void)
1261:StdPeriphLib/src/stm32f10x_flash.c **** {
 336              		.loc 1 1261 0
 337              		.cfi_startproc
 338              		@ args = 0, pretend = 0, frame = 0
 339              		@ frame_needed = 0, uses_anonymous_args = 0
 340              		@ link register save eliminated.
 341              	.LVL11:
1262:StdPeriphLib/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
1263:StdPeriphLib/src/stm32f10x_flash.c ****   
1264:StdPeriphLib/src/stm32f10x_flash.c ****   if ((FLASH->ACR & ACR_PRFTBS_Mask) != (uint32_t)RESET)
 342              		.loc 1 1264 0
 343 0000 024B     		ldr	r3, .L32
 344 0002 1868     		ldr	r0, [r3, #0]
 345              	.LVL12:
1265:StdPeriphLib/src/stm32f10x_flash.c ****   {
1266:StdPeriphLib/src/stm32f10x_flash.c ****     bitstatus = SET;
1267:StdPeriphLib/src/stm32f10x_flash.c ****   }
1268:StdPeriphLib/src/stm32f10x_flash.c ****   else
1269:StdPeriphLib/src/stm32f10x_flash.c ****   {
1270:StdPeriphLib/src/stm32f10x_flash.c ****     bitstatus = RESET;
1271:StdPeriphLib/src/stm32f10x_flash.c ****   }
1272:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the new state of FLASH Prefetch Buffer Status (SET or RESET) */
1273:StdPeriphLib/src/stm32f10x_flash.c ****   return bitstatus; 
1274:StdPeriphLib/src/stm32f10x_flash.c **** }
 346              		.loc 1 1274 0
 347 0004 C0F34010 		ubfx	r0, r0, #5, #1
 348              	.LVL13:
 349 0008 7047     		bx	lr
 350              	.L33:
 351 000a 00BF     		.align	2
 352              	.L32:
 353 000c 00200240 		.word	1073881088
 354              		.cfi_endproc
 355              	.LFE49:
 356              		.fnend
 358              		.section	.text.FLASH_ITConfig,"ax",%progbits
 359              		.align	1
 360              		.global	FLASH_ITConfig
 361              		.thumb
 362              		.thumb_func
 364              	FLASH_ITConfig:
 365              		.fnstart
 366              	.LFB50:
1275:StdPeriphLib/src/stm32f10x_flash.c **** 
1276:StdPeriphLib/src/stm32f10x_flash.c **** /**
1277:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Enables or disables the specified FLASH interrupts.
1278:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1279:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, enables or disables the specified FLASH interrupts
1280:StdPeriphLib/src/stm32f10x_flash.c ****               for Bank1 and Bank2.
1281:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For other devices it enables or disables the specified FLASH interrupts for Bank1.
1282:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_IT: specifies the FLASH interrupt sources to be enabled or disabled.
1283:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:
1284:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_ERROR: FLASH Error Interrupt
1285:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_EOP: FLASH end of operation Interrupt
1286:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  NewState: new state of the specified Flash interrupts.
1287:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.      
1288:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None 
1289:StdPeriphLib/src/stm32f10x_flash.c ****   */
1290:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_ITConfig(uint32_t FLASH_IT, FunctionalState NewState)
1291:StdPeriphLib/src/stm32f10x_flash.c **** {
 367              		.loc 1 1291 0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 0
 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371              		@ link register save eliminated.
 372              	.LVL14:
 373 0000 044B     		ldr	r3, .L38
1292:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1293:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1294:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1295:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1296:StdPeriphLib/src/stm32f10x_flash.c **** 
1297:StdPeriphLib/src/stm32f10x_flash.c ****   if((FLASH_IT & 0x80000000) != 0x0)
1298:StdPeriphLib/src/stm32f10x_flash.c ****   {
1299:StdPeriphLib/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1300:StdPeriphLib/src/stm32f10x_flash.c ****     {
1301:StdPeriphLib/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1302:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 |= (FLASH_IT & 0x7FFFFFFF);
1303:StdPeriphLib/src/stm32f10x_flash.c ****     }
1304:StdPeriphLib/src/stm32f10x_flash.c ****     else
1305:StdPeriphLib/src/stm32f10x_flash.c ****     {
1306:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1307:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR2 &= ~(uint32_t)(FLASH_IT & 0x7FFFFFFF);
1308:StdPeriphLib/src/stm32f10x_flash.c ****     }
1309:StdPeriphLib/src/stm32f10x_flash.c ****   }
1310:StdPeriphLib/src/stm32f10x_flash.c ****   else
1311:StdPeriphLib/src/stm32f10x_flash.c ****   {
1312:StdPeriphLib/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1313:StdPeriphLib/src/stm32f10x_flash.c ****     {
1314:StdPeriphLib/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1315:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= FLASH_IT;
1316:StdPeriphLib/src/stm32f10x_flash.c ****     }
1317:StdPeriphLib/src/stm32f10x_flash.c ****     else
1318:StdPeriphLib/src/stm32f10x_flash.c ****     {
1319:StdPeriphLib/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1320:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= ~(uint32_t)FLASH_IT;
1321:StdPeriphLib/src/stm32f10x_flash.c ****     }
1322:StdPeriphLib/src/stm32f10x_flash.c ****   }
1323:StdPeriphLib/src/stm32f10x_flash.c **** #else
1324:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1325:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1326:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1327:StdPeriphLib/src/stm32f10x_flash.c **** 
1328:StdPeriphLib/src/stm32f10x_flash.c ****   if(NewState != DISABLE)
1329:StdPeriphLib/src/stm32f10x_flash.c ****   {
1330:StdPeriphLib/src/stm32f10x_flash.c ****     /* Enable the interrupt sources */
1331:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= FLASH_IT;
 374              		.loc 1 1331 0
 375 0002 1A69     		ldr	r2, [r3, #16]
1328:StdPeriphLib/src/stm32f10x_flash.c ****   if(NewState != DISABLE)
 376              		.loc 1 1328 0
 377 0004 09B1     		cbz	r1, .L35
 378              		.loc 1 1331 0
 379 0006 1043     		orrs	r0, r0, r2
 380              	.LVL15:
 381 0008 01E0     		b	.L37
 382              	.LVL16:
 383              	.L35:
1332:StdPeriphLib/src/stm32f10x_flash.c ****   }
1333:StdPeriphLib/src/stm32f10x_flash.c ****   else
1334:StdPeriphLib/src/stm32f10x_flash.c ****   {
1335:StdPeriphLib/src/stm32f10x_flash.c ****     /* Disable the interrupt sources */
1336:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= ~(uint32_t)FLASH_IT;
 384              		.loc 1 1336 0
 385 000a 22EA0000 		bic	r0, r2, r0
 386              	.LVL17:
 387              	.L37:
 388 000e 1861     		str	r0, [r3, #16]
 389 0010 7047     		bx	lr
 390              	.L39:
 391 0012 00BF     		.align	2
 392              	.L38:
 393 0014 00200240 		.word	1073881088
 394              		.cfi_endproc
 395              	.LFE50:
 396              		.fnend
 398              		.section	.text.FLASH_GetFlagStatus,"ax",%progbits
 399              		.align	1
 400              		.global	FLASH_GetFlagStatus
 401              		.thumb
 402              		.thumb_func
 404              	FLASH_GetFlagStatus:
 405              		.fnstart
 406              	.LFB51:
1337:StdPeriphLib/src/stm32f10x_flash.c ****   }
1338:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1339:StdPeriphLib/src/stm32f10x_flash.c **** }
1340:StdPeriphLib/src/stm32f10x_flash.c **** 
1341:StdPeriphLib/src/stm32f10x_flash.c **** /**
1342:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Checks whether the specified FLASH flag is set or not.
1343:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1344:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function checks whether the specified 
1345:StdPeriphLib/src/stm32f10x_flash.c ****   *           Bank1 or Bank2 flag is set or not.
1346:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For other devices, it checks whether the specified Bank1 flag is 
1347:StdPeriphLib/src/stm32f10x_flash.c ****   *           set or not.
1348:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flag to check.
1349:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1350:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_BSY: FLASH Busy flag           
1351:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1352:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1353:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1354:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_OPTERR:  FLASH Option Byte error flag     
1355:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval The new state of FLASH_FLAG (SET or RESET).
1356:StdPeriphLib/src/stm32f10x_flash.c ****   */
1357:StdPeriphLib/src/stm32f10x_flash.c **** FlagStatus FLASH_GetFlagStatus(uint32_t FLASH_FLAG)
1358:StdPeriphLib/src/stm32f10x_flash.c **** {
 407              		.loc 1 1358 0
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              		@ link register save eliminated.
 412              	.LVL18:
1359:StdPeriphLib/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
1360:StdPeriphLib/src/stm32f10x_flash.c **** 
1361:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1362:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1363:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1364:StdPeriphLib/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
1365:StdPeriphLib/src/stm32f10x_flash.c ****   {
1366:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
1367:StdPeriphLib/src/stm32f10x_flash.c ****     {
1368:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = SET;
1369:StdPeriphLib/src/stm32f10x_flash.c ****     }
1370:StdPeriphLib/src/stm32f10x_flash.c ****     else
1371:StdPeriphLib/src/stm32f10x_flash.c ****     {
1372:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = RESET;
1373:StdPeriphLib/src/stm32f10x_flash.c ****     }
1374:StdPeriphLib/src/stm32f10x_flash.c ****   }
1375:StdPeriphLib/src/stm32f10x_flash.c ****   else
1376:StdPeriphLib/src/stm32f10x_flash.c ****   {
1377:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH_FLAG & 0x80000000) != 0x0)
1378:StdPeriphLib/src/stm32f10x_flash.c ****     {
1379:StdPeriphLib/src/stm32f10x_flash.c ****       if((FLASH->SR2 & FLASH_FLAG) != (uint32_t)RESET)
1380:StdPeriphLib/src/stm32f10x_flash.c ****       {
1381:StdPeriphLib/src/stm32f10x_flash.c ****         bitstatus = SET;
1382:StdPeriphLib/src/stm32f10x_flash.c ****       }
1383:StdPeriphLib/src/stm32f10x_flash.c ****       else
1384:StdPeriphLib/src/stm32f10x_flash.c ****       {
1385:StdPeriphLib/src/stm32f10x_flash.c ****         bitstatus = RESET;
1386:StdPeriphLib/src/stm32f10x_flash.c ****       }
1387:StdPeriphLib/src/stm32f10x_flash.c ****     }
1388:StdPeriphLib/src/stm32f10x_flash.c ****     else
1389:StdPeriphLib/src/stm32f10x_flash.c ****     {
1390:StdPeriphLib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
1391:StdPeriphLib/src/stm32f10x_flash.c ****       {
1392:StdPeriphLib/src/stm32f10x_flash.c ****         bitstatus = SET;
1393:StdPeriphLib/src/stm32f10x_flash.c ****       }
1394:StdPeriphLib/src/stm32f10x_flash.c ****       else
1395:StdPeriphLib/src/stm32f10x_flash.c ****       {
1396:StdPeriphLib/src/stm32f10x_flash.c ****         bitstatus = RESET;
1397:StdPeriphLib/src/stm32f10x_flash.c ****       }
1398:StdPeriphLib/src/stm32f10x_flash.c ****     }
1399:StdPeriphLib/src/stm32f10x_flash.c ****   }
1400:StdPeriphLib/src/stm32f10x_flash.c **** #else
1401:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1402:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1403:StdPeriphLib/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
 413              		.loc 1 1403 0
 414 0000 0128     		cmp	r0, #1
 415 0002 064B     		ldr	r3, .L43
 416 0004 03D1     		bne	.L41
1404:StdPeriphLib/src/stm32f10x_flash.c ****   {
1405:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
 417              		.loc 1 1405 0
 418 0006 D869     		ldr	r0, [r3, #28]
 419              	.LVL19:
 420 0008 00F00100 		and	r0, r0, #1
 421 000c 7047     		bx	lr
 422              	.LVL20:
 423              	.L41:
1406:StdPeriphLib/src/stm32f10x_flash.c ****     {
1407:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = SET;
1408:StdPeriphLib/src/stm32f10x_flash.c ****     }
1409:StdPeriphLib/src/stm32f10x_flash.c ****     else
1410:StdPeriphLib/src/stm32f10x_flash.c ****     {
1411:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = RESET;
1412:StdPeriphLib/src/stm32f10x_flash.c ****     }
1413:StdPeriphLib/src/stm32f10x_flash.c ****   }
1414:StdPeriphLib/src/stm32f10x_flash.c ****   else
1415:StdPeriphLib/src/stm32f10x_flash.c ****   {
1416:StdPeriphLib/src/stm32f10x_flash.c ****    if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
 424              		.loc 1 1416 0
 425 000e DB68     		ldr	r3, [r3, #12]
 426 0010 1842     		tst	r0, r3
 427 0012 0CBF     		ite	eq
 428 0014 0020     		moveq	r0, #0
 429 0016 0120     		movne	r0, #1
 430              	.LVL21:
1417:StdPeriphLib/src/stm32f10x_flash.c ****     {
1418:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = SET;
1419:StdPeriphLib/src/stm32f10x_flash.c ****     }
1420:StdPeriphLib/src/stm32f10x_flash.c ****     else
1421:StdPeriphLib/src/stm32f10x_flash.c ****     {
1422:StdPeriphLib/src/stm32f10x_flash.c ****       bitstatus = RESET;
1423:StdPeriphLib/src/stm32f10x_flash.c ****     }
1424:StdPeriphLib/src/stm32f10x_flash.c ****   }
1425:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1426:StdPeriphLib/src/stm32f10x_flash.c **** 
1427:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the new state of FLASH_FLAG (SET or RESET) */
1428:StdPeriphLib/src/stm32f10x_flash.c ****   return bitstatus;
1429:StdPeriphLib/src/stm32f10x_flash.c **** }
 431              		.loc 1 1429 0
 432 0018 7047     		bx	lr
 433              	.L44:
 434 001a 00BF     		.align	2
 435              	.L43:
 436 001c 00200240 		.word	1073881088
 437              		.cfi_endproc
 438              	.LFE51:
 439              		.fnend
 441              		.section	.text.FLASH_ClearFlag,"ax",%progbits
 442              		.align	1
 443              		.global	FLASH_ClearFlag
 444              		.thumb
 445              		.thumb_func
 447              	FLASH_ClearFlag:
 448              		.fnstart
 449              	.LFB52:
1430:StdPeriphLib/src/stm32f10x_flash.c **** 
1431:StdPeriphLib/src/stm32f10x_flash.c **** /**
1432:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Clears the FLASH's pending flags.
1433:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1434:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function clears Bank1 or Bank2s pending flags
1435:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For other devices, it clears Bank1s pending flags.
1436:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flags to clear.
1437:StdPeriphLib/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:         
1438:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1439:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1440:StdPeriphLib/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1441:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval None
1442:StdPeriphLib/src/stm32f10x_flash.c ****   */
1443:StdPeriphLib/src/stm32f10x_flash.c **** void FLASH_ClearFlag(uint32_t FLASH_FLAG)
1444:StdPeriphLib/src/stm32f10x_flash.c **** {
 450              		.loc 1 1444 0
 451              		.cfi_startproc
 452              		@ args = 0, pretend = 0, frame = 0
 453              		@ frame_needed = 0, uses_anonymous_args = 0
 454              		@ link register save eliminated.
 455              	.LVL22:
1445:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1446:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1447:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1448:StdPeriphLib/src/stm32f10x_flash.c **** 
1449:StdPeriphLib/src/stm32f10x_flash.c ****   if((FLASH_FLAG & 0x80000000) != 0x0)
1450:StdPeriphLib/src/stm32f10x_flash.c ****   {
1451:StdPeriphLib/src/stm32f10x_flash.c ****     /* Clear the flags */
1452:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->SR2 = FLASH_FLAG;
1453:StdPeriphLib/src/stm32f10x_flash.c ****   }
1454:StdPeriphLib/src/stm32f10x_flash.c ****   else
1455:StdPeriphLib/src/stm32f10x_flash.c ****   {
1456:StdPeriphLib/src/stm32f10x_flash.c ****     /* Clear the flags */
1457:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->SR = FLASH_FLAG;
1458:StdPeriphLib/src/stm32f10x_flash.c ****   }  
1459:StdPeriphLib/src/stm32f10x_flash.c **** 
1460:StdPeriphLib/src/stm32f10x_flash.c **** #else
1461:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check the parameters */
1462:StdPeriphLib/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1463:StdPeriphLib/src/stm32f10x_flash.c ****   
1464:StdPeriphLib/src/stm32f10x_flash.c ****   /* Clear the flags */
1465:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->SR = FLASH_FLAG;
 456              		.loc 1 1465 0
 457 0000 014B     		ldr	r3, .L46
 458 0002 D860     		str	r0, [r3, #12]
 459 0004 7047     		bx	lr
 460              	.L47:
 461 0006 00BF     		.align	2
 462              	.L46:
 463 0008 00200240 		.word	1073881088
 464              		.cfi_endproc
 465              	.LFE52:
 466              		.fnend
 468              		.section	.text.FLASH_GetStatus,"ax",%progbits
 469              		.align	1
 470              		.global	FLASH_GetStatus
 471              		.thumb
 472              		.thumb_func
 474              	FLASH_GetStatus:
 475              		.fnstart
 476              	.LFB53:
1466:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1467:StdPeriphLib/src/stm32f10x_flash.c **** }
1468:StdPeriphLib/src/stm32f10x_flash.c **** 
1469:StdPeriphLib/src/stm32f10x_flash.c **** /**
1470:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Status.
1471:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1472:StdPeriphLib/src/stm32f10x_flash.c ****   *         to FLASH_GetBank1Status function.
1473:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1474:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1475:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP or FLASH_COMPLETE
1476:StdPeriphLib/src/stm32f10x_flash.c ****   */
1477:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetStatus(void)
1478:StdPeriphLib/src/stm32f10x_flash.c **** {
 477              		.loc 1 1478 0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 0
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 481              		@ link register save eliminated.
 482              	.LVL23:
1479:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
1480:StdPeriphLib/src/stm32f10x_flash.c ****   
1481:StdPeriphLib/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BSY) == FLASH_FLAG_BSY) 
 483              		.loc 1 1481 0
 484 0000 084B     		ldr	r3, .L53
 485 0002 DA68     		ldr	r2, [r3, #12]
 486 0004 D107     		lsls	r1, r2, #31
 487 0006 09D4     		bmi	.L50
1482:StdPeriphLib/src/stm32f10x_flash.c ****   {
1483:StdPeriphLib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
1484:StdPeriphLib/src/stm32f10x_flash.c ****   }
1485:StdPeriphLib/src/stm32f10x_flash.c ****   else 
1486:StdPeriphLib/src/stm32f10x_flash.c ****   {  
1487:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_PGERR) != 0)
 488              		.loc 1 1487 0
 489 0008 DA68     		ldr	r2, [r3, #12]
 490 000a 5207     		lsls	r2, r2, #29
 491 000c 08D4     		bmi	.L51
1488:StdPeriphLib/src/stm32f10x_flash.c ****     { 
1489:StdPeriphLib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
1490:StdPeriphLib/src/stm32f10x_flash.c ****     }
1491:StdPeriphLib/src/stm32f10x_flash.c ****     else 
1492:StdPeriphLib/src/stm32f10x_flash.c ****     {
1493:StdPeriphLib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_WRPRTERR) != 0 )
 492              		.loc 1 1493 0
 493 000e DB68     		ldr	r3, [r3, #12]
 494 0010 13F0100F 		tst	r3, #16
1494:StdPeriphLib/src/stm32f10x_flash.c ****       {
1495:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 495              		.loc 1 1495 0
 496 0014 0CBF     		ite	eq
 497 0016 0420     		moveq	r0, #4
 498 0018 0320     		movne	r0, #3
 499 001a 7047     		bx	lr
 500              	.L50:
1483:StdPeriphLib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 501              		.loc 1 1483 0
 502 001c 0120     		movs	r0, #1
 503 001e 7047     		bx	lr
 504              	.L51:
1489:StdPeriphLib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 505              		.loc 1 1489 0
 506 0020 0220     		movs	r0, #2
 507              	.LVL24:
1496:StdPeriphLib/src/stm32f10x_flash.c ****       }
1497:StdPeriphLib/src/stm32f10x_flash.c ****       else
1498:StdPeriphLib/src/stm32f10x_flash.c ****       {
1499:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
1500:StdPeriphLib/src/stm32f10x_flash.c ****       }
1501:StdPeriphLib/src/stm32f10x_flash.c ****     }
1502:StdPeriphLib/src/stm32f10x_flash.c ****   }
1503:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1504:StdPeriphLib/src/stm32f10x_flash.c ****   return flashstatus;
1505:StdPeriphLib/src/stm32f10x_flash.c **** }
 508              		.loc 1 1505 0
 509 0022 7047     		bx	lr
 510              	.L54:
 511              		.align	2
 512              	.L53:
 513 0024 00200240 		.word	1073881088
 514              		.cfi_endproc
 515              	.LFE53:
 516              		.fnend
 518              		.section	.text.FLASH_GetBank1Status,"ax",%progbits
 519              		.align	1
 520              		.global	FLASH_GetBank1Status
 521              		.thumb
 522              		.thumb_func
 524              	FLASH_GetBank1Status:
 525              		.fnstart
 526              	.LFB54:
1506:StdPeriphLib/src/stm32f10x_flash.c **** 
1507:StdPeriphLib/src/stm32f10x_flash.c **** /**
1508:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank1 Status.
1509:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1510:StdPeriphLib/src/stm32f10x_flash.c ****   *         to FLASH_GetStatus function.
1511:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1512:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1513:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP or FLASH_COMPLETE
1514:StdPeriphLib/src/stm32f10x_flash.c ****   */
1515:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank1Status(void)
1516:StdPeriphLib/src/stm32f10x_flash.c **** {
 527              		.loc 1 1516 0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 0
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 531              		@ link register save eliminated.
 532              	.LVL25:
1517:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
1518:StdPeriphLib/src/stm32f10x_flash.c ****   
1519:StdPeriphLib/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BANK1_BSY) == FLASH_FLAG_BSY) 
 533              		.loc 1 1519 0
 534 0000 084B     		ldr	r3, .L61
 535 0002 DA68     		ldr	r2, [r3, #12]
 536 0004 D207     		lsls	r2, r2, #31
 537 0006 09D4     		bmi	.L58
1520:StdPeriphLib/src/stm32f10x_flash.c ****   {
1521:StdPeriphLib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
1522:StdPeriphLib/src/stm32f10x_flash.c ****   }
1523:StdPeriphLib/src/stm32f10x_flash.c ****   else 
1524:StdPeriphLib/src/stm32f10x_flash.c ****   {  
1525:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_BANK1_PGERR) != 0)
 538              		.loc 1 1525 0
 539 0008 DA68     		ldr	r2, [r3, #12]
 540 000a 5007     		lsls	r0, r2, #29
 541 000c 08D4     		bmi	.L59
 542              	.LBB4:
 543              	.LBB5:
1526:StdPeriphLib/src/stm32f10x_flash.c ****     { 
1527:StdPeriphLib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
1528:StdPeriphLib/src/stm32f10x_flash.c ****     }
1529:StdPeriphLib/src/stm32f10x_flash.c ****     else 
1530:StdPeriphLib/src/stm32f10x_flash.c ****     {
1531:StdPeriphLib/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_BANK1_WRPRTERR) != 0 )
 544              		.loc 1 1531 0
 545 000e DB68     		ldr	r3, [r3, #12]
 546 0010 13F0100F 		tst	r3, #16
1532:StdPeriphLib/src/stm32f10x_flash.c ****       {
1533:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 547              		.loc 1 1533 0
 548 0014 0CBF     		ite	eq
 549 0016 0420     		moveq	r0, #4
 550 0018 0320     		movne	r0, #3
 551 001a 7047     		bx	lr
 552              	.L58:
 553              	.LBE5:
 554              	.LBE4:
1521:StdPeriphLib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 555              		.loc 1 1521 0
 556 001c 0120     		movs	r0, #1
 557 001e 7047     		bx	lr
 558              	.L59:
1527:StdPeriphLib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 559              		.loc 1 1527 0
 560 0020 0220     		movs	r0, #2
 561              	.LVL26:
1534:StdPeriphLib/src/stm32f10x_flash.c ****       }
1535:StdPeriphLib/src/stm32f10x_flash.c ****       else
1536:StdPeriphLib/src/stm32f10x_flash.c ****       {
1537:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
1538:StdPeriphLib/src/stm32f10x_flash.c ****       }
1539:StdPeriphLib/src/stm32f10x_flash.c ****     }
1540:StdPeriphLib/src/stm32f10x_flash.c ****   }
1541:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1542:StdPeriphLib/src/stm32f10x_flash.c ****   return flashstatus;
1543:StdPeriphLib/src/stm32f10x_flash.c **** }
 562              		.loc 1 1543 0
 563 0022 7047     		bx	lr
 564              	.L62:
 565              		.align	2
 566              	.L61:
 567 0024 00200240 		.word	1073881088
 568              		.cfi_endproc
 569              	.LFE54:
 570              		.fnend
 572              		.section	.text.FLASH_WaitForLastOperation,"ax",%progbits
 573              		.align	1
 574              		.global	FLASH_WaitForLastOperation
 575              		.thumb
 576              		.thumb_func
 578              	FLASH_WaitForLastOperation:
 579              		.fnstart
 580              	.LFB55:
1544:StdPeriphLib/src/stm32f10x_flash.c **** 
1545:StdPeriphLib/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1546:StdPeriphLib/src/stm32f10x_flash.c **** /**
1547:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank2 Status.
1548:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for STM32F10x_XL density devices.
1549:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  None
1550:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1551:StdPeriphLib/src/stm32f10x_flash.c ****   *        FLASH_ERROR_WRP or FLASH_COMPLETE
1552:StdPeriphLib/src/stm32f10x_flash.c ****   */
1553:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank2Status(void)
1554:StdPeriphLib/src/stm32f10x_flash.c **** {
1555:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
1556:StdPeriphLib/src/stm32f10x_flash.c ****   
1557:StdPeriphLib/src/stm32f10x_flash.c ****   if((FLASH->SR2 & (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) == (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) 
1558:StdPeriphLib/src/stm32f10x_flash.c ****   {
1559:StdPeriphLib/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
1560:StdPeriphLib/src/stm32f10x_flash.c ****   }
1561:StdPeriphLib/src/stm32f10x_flash.c ****   else 
1562:StdPeriphLib/src/stm32f10x_flash.c ****   {  
1563:StdPeriphLib/src/stm32f10x_flash.c ****     if((FLASH->SR2 & (FLASH_FLAG_BANK2_PGERR & 0x7FFFFFFF)) != 0)
1564:StdPeriphLib/src/stm32f10x_flash.c ****     { 
1565:StdPeriphLib/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
1566:StdPeriphLib/src/stm32f10x_flash.c ****     }
1567:StdPeriphLib/src/stm32f10x_flash.c ****     else 
1568:StdPeriphLib/src/stm32f10x_flash.c ****     {
1569:StdPeriphLib/src/stm32f10x_flash.c ****       if((FLASH->SR2 & (FLASH_FLAG_BANK2_WRPRTERR & 0x7FFFFFFF)) != 0 )
1570:StdPeriphLib/src/stm32f10x_flash.c ****       {
1571:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
1572:StdPeriphLib/src/stm32f10x_flash.c ****       }
1573:StdPeriphLib/src/stm32f10x_flash.c ****       else
1574:StdPeriphLib/src/stm32f10x_flash.c ****       {
1575:StdPeriphLib/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
1576:StdPeriphLib/src/stm32f10x_flash.c ****       }
1577:StdPeriphLib/src/stm32f10x_flash.c ****     }
1578:StdPeriphLib/src/stm32f10x_flash.c ****   }
1579:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1580:StdPeriphLib/src/stm32f10x_flash.c ****   return flashstatus;
1581:StdPeriphLib/src/stm32f10x_flash.c **** }
1582:StdPeriphLib/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1583:StdPeriphLib/src/stm32f10x_flash.c **** /**
1584:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation to complete or a TIMEOUT to occur.
1585:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1586:StdPeriphLib/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastBank1Operation.
1587:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function waits for a Bank1 Flash operation
1588:StdPeriphLib/src/stm32f10x_flash.c ****   *           to complete or a TIMEOUT to occur.
1589:StdPeriphLib/src/stm32f10x_flash.c ****   *         - For all other devices it waits for a Flash operation to complete 
1590:StdPeriphLib/src/stm32f10x_flash.c ****   *           or a TIMEOUT to occur.
1591:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH programming Timeout
1592:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1593:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1594:StdPeriphLib/src/stm32f10x_flash.c ****   */
1595:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastOperation(uint32_t Timeout)
1596:StdPeriphLib/src/stm32f10x_flash.c **** { 
 581              		.loc 1 1596 0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 585              	.LVL27:
 586 0000 10B5     		push	{r4, lr}
 587              		.save {r4, lr}
 588              	.LCFI0:
 589              		.cfi_def_cfa_offset 8
 590              		.cfi_offset 4, -8
 591              		.cfi_offset 14, -4
 592              		.loc 1 1596 0
 593 0002 0446     		mov	r4, r0
1597:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
1598:StdPeriphLib/src/stm32f10x_flash.c ****    
1599:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1600:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 594              		.loc 1 1600 0
 595 0004 FFF7FEFF 		bl	FLASH_GetBank1Status
 596              	.LVL28:
1601:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1602:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 597              		.loc 1 1602 0
 598 0008 02E0     		b	.L64
 599              	.L66:
1603:StdPeriphLib/src/stm32f10x_flash.c ****   {
1604:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 600              		.loc 1 1604 0
 601 000a FFF7FEFF 		bl	FLASH_GetBank1Status
 602              	.LVL29:
1605:StdPeriphLib/src/stm32f10x_flash.c ****     Timeout--;
 603              		.loc 1 1605 0
 604 000e 013C     		subs	r4, r4, #1
 605              	.LVL30:
 606              	.L64:
1602:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 607              		.loc 1 1602 0 discriminator 1
 608 0010 0128     		cmp	r0, #1
 609 0012 03D1     		bne	.L65
1602:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 610              		.loc 1 1602 0 is_stmt 0 discriminator 2
 611 0014 002C     		cmp	r4, #0
 612 0016 F8D1     		bne	.L66
1606:StdPeriphLib/src/stm32f10x_flash.c ****   }
1607:StdPeriphLib/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
1608:StdPeriphLib/src/stm32f10x_flash.c ****   {
1609:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 613              		.loc 1 1609 0 is_stmt 1
 614 0018 0520     		movs	r0, #5
 615              	.LVL31:
 616 001a 10BD     		pop	{r4, pc}
 617              	.LVL32:
 618              	.L65:
 619 001c 002C     		cmp	r4, #0
 620 001e 08BF     		it	eq
 621 0020 0520     		moveq	r0, #5
 622              	.LVL33:
1610:StdPeriphLib/src/stm32f10x_flash.c ****   }
1611:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the operation status */
1612:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
1613:StdPeriphLib/src/stm32f10x_flash.c **** }
 623              		.loc 1 1613 0
 624 0022 10BD     		pop	{r4, pc}
 625              		.cfi_endproc
 626              	.LFE55:
 627              		.fnend
 629              		.section	.text.FLASH_UserOptionByteConfig,"ax",%progbits
 630              		.align	1
 631              		.global	FLASH_UserOptionByteConfig
 632              		.thumb
 633              		.thumb_func
 635              	FLASH_UserOptionByteConfig:
 636              		.fnstart
 637              	.LFB45:
1119:StdPeriphLib/src/stm32f10x_flash.c **** {
 638              		.loc 1 1119 0
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
 642              	.LVL34:
 643 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 644              		.save {r3, r4, r5, r6, r7, lr}
 645              	.LCFI1:
 646              		.cfi_def_cfa_offset 24
 647              		.cfi_offset 3, -24
 648              		.cfi_offset 4, -20
 649              		.cfi_offset 5, -16
 650              		.cfi_offset 6, -12
 651              		.cfi_offset 7, -8
 652              		.cfi_offset 14, -4
1128:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
 653              		.loc 1 1128 0
 654 0002 124C     		ldr	r4, .L74
 655 0004 124B     		ldr	r3, .L74+4
1119:StdPeriphLib/src/stm32f10x_flash.c **** {
 656              		.loc 1 1119 0
 657 0006 0546     		mov	r5, r0
1128:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
 658              		.loc 1 1128 0
 659 0008 A360     		str	r3, [r4, #8]
1129:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
 660              		.loc 1 1129 0
 661 000a 03F18833 		add	r3, r3, #-2004318072
 662 000e A360     		str	r3, [r4, #8]
1132:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 663              		.loc 1 1132 0
 664 0010 4FF40050 		mov	r0, #8192
 665              	.LVL35:
1119:StdPeriphLib/src/stm32f10x_flash.c **** {
 666              		.loc 1 1119 0
 667 0014 0E46     		mov	r6, r1
 668 0016 1746     		mov	r7, r2
1132:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 669              		.loc 1 1132 0
 670 0018 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 671              	.LVL36:
1134:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 672              		.loc 1 1134 0
 673 001c 0428     		cmp	r0, #4
 674 001e 14D1     		bne	.L70
1137:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 675              		.loc 1 1137 0
 676 0020 2369     		ldr	r3, [r4, #16]
1139:StdPeriphLib/src/stm32f10x_flash.c ****     OB->USER = OB_IWDG | (uint16_t)(OB_STOP | (uint16_t)(OB_STDBY | ((uint16_t)0xF8))); 
 677              		.loc 1 1139 0
 678 0022 45F0F805 		orr	r5, r5, #248
1137:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 679              		.loc 1 1137 0
 680 0026 43F01003 		orr	r3, r3, #16
 681 002a 2361     		str	r3, [r4, #16]
1139:StdPeriphLib/src/stm32f10x_flash.c ****     OB->USER = OB_IWDG | (uint16_t)(OB_STOP | (uint16_t)(OB_STDBY | ((uint16_t)0xF8))); 
 682              		.loc 1 1139 0
 683 002c 2E43     		orrs	r6, r6, r5
 684 002e 094B     		ldr	r3, .L74+8
 685 0030 3743     		orrs	r7, r7, r6
 686 0032 5F80     		strh	r7, [r3, #2]	@ movhi
1142:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 687              		.loc 1 1142 0
 688 0034 4FF40050 		mov	r0, #8192
 689              	.LVL37:
 690 0038 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 691              	.LVL38:
1143:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 692              		.loc 1 1143 0
 693 003c 0528     		cmp	r0, #5
 694 003e 04D0     		beq	.L70
1146:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 695              		.loc 1 1146 0
 696 0040 2269     		ldr	r2, [r4, #16]
 697 0042 41F6EF73 		movw	r3, #8175
 698 0046 1340     		ands	r3, r3, r2
 699 0048 2361     		str	r3, [r4, #16]
 700              	.L70:
1151:StdPeriphLib/src/stm32f10x_flash.c **** }
 701              		.loc 1 1151 0
 702 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 703              	.L75:
 704              		.align	2
 705              	.L74:
 706 004c 00200240 		.word	1073881088
 707 0050 23016745 		.word	1164378403
 708 0054 00F8FF1F 		.word	536868864
 709              		.cfi_endproc
 710              	.LFE45:
 711              		.fnend
 713              		.section	.text.FLASH_ReadOutProtection,"ax",%progbits
 714              		.align	1
 715              		.global	FLASH_ReadOutProtection
 716              		.thumb
 717              		.thumb_func
 719              	FLASH_ReadOutProtection:
 720              		.fnstart
 721              	.LFB44:
1050:StdPeriphLib/src/stm32f10x_flash.c **** {
 722              		.loc 1 1050 0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 0
 725              		@ frame_needed = 0, uses_anonymous_args = 0
 726              	.LVL39:
 727 0000 38B5     		push	{r3, r4, r5, lr}
 728              		.save {r3, r4, r5, lr}
 729              	.LCFI2:
 730              		.cfi_def_cfa_offset 16
 731              		.cfi_offset 3, -16
 732              		.cfi_offset 4, -12
 733              		.cfi_offset 5, -8
 734              		.cfi_offset 14, -4
1050:StdPeriphLib/src/stm32f10x_flash.c **** {
 735              		.loc 1 1050 0
 736 0002 0546     		mov	r5, r0
1054:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 737              		.loc 1 1054 0
 738 0004 4FF43020 		mov	r0, #720896
 739              	.LVL40:
 740 0008 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 741              	.LVL41:
1055:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 742              		.loc 1 1055 0
 743 000c 0428     		cmp	r0, #4
 744 000e 38D1     		bne	.L77
1058:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 745              		.loc 1 1058 0
 746 0010 1C4C     		ldr	r4, .L87
 747 0012 1D4B     		ldr	r3, .L87+4
1063:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 748              		.loc 1 1063 0
 749 0014 4FF43020 		mov	r0, #720896
 750              	.LVL42:
1058:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 751              		.loc 1 1058 0
 752 0018 A360     		str	r3, [r4, #8]
1059:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 753              		.loc 1 1059 0
 754 001a 03F18833 		add	r3, r3, #-2004318072
 755 001e A360     		str	r3, [r4, #8]
1060:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 756              		.loc 1 1060 0
 757 0020 2369     		ldr	r3, [r4, #16]
 758 0022 43F02003 		orr	r3, r3, #32
 759 0026 2361     		str	r3, [r4, #16]
1061:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 760              		.loc 1 1061 0
 761 0028 2369     		ldr	r3, [r4, #16]
 762 002a 43F04003 		orr	r3, r3, #64
 763 002e 2361     		str	r3, [r4, #16]
1063:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 764              		.loc 1 1063 0
 765 0030 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 766              	.LVL43:
1064:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 767              		.loc 1 1064 0
 768 0034 0428     		cmp	r0, #4
 769 0036 1DD1     		bne	.L78
1067:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 770              		.loc 1 1067 0
 771 0038 2269     		ldr	r2, [r4, #16]
 772 003a 41F6DF73 		movw	r3, #8159
 773 003e 1340     		ands	r3, r3, r2
 774 0040 2361     		str	r3, [r4, #16]
1069:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set; 
 775              		.loc 1 1069 0
 776 0042 2369     		ldr	r3, [r4, #16]
 777 0044 43F01003 		orr	r3, r3, #16
 778 0048 2361     		str	r3, [r4, #16]
 779 004a 104B     		ldr	r3, .L87+8
1070:StdPeriphLib/src/stm32f10x_flash.c ****       if(NewState != DISABLE)
 780              		.loc 1 1070 0
 781 004c 0DB1     		cbz	r5, .L79
1072:StdPeriphLib/src/stm32f10x_flash.c ****         OB->RDP = 0x00;
 782              		.loc 1 1072 0
 783 004e 0022     		movs	r2, #0
 784 0050 00E0     		b	.L86
 785              	.L79:
1076:StdPeriphLib/src/stm32f10x_flash.c ****         OB->RDP = RDP_Key;  
 786              		.loc 1 1076 0
 787 0052 A522     		movs	r2, #165
 788              	.L86:
 789 0054 1A80     		strh	r2, [r3, #0]	@ movhi
1079:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(EraseTimeout); 
 790              		.loc 1 1079 0
 791 0056 4FF43020 		mov	r0, #720896
 792              	.LVL44:
 793 005a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 794              	.LVL45:
1081:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 795              		.loc 1 1081 0
 796 005e 0528     		cmp	r0, #5
 797 0060 01D1     		bne	.L81
 798              	.L82:
1050:StdPeriphLib/src/stm32f10x_flash.c **** {
 799              		.loc 1 1050 0
 800 0062 0520     		movs	r0, #5
 801              	.LVL46:
 802 0064 38BD     		pop	{r3, r4, r5, pc}
 803              	.LVL47:
 804              	.L81:
1084:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 805              		.loc 1 1084 0
 806 0066 074A     		ldr	r2, .L87
 807 0068 41F6EF73 		movw	r3, #8175
 808 006c 1169     		ldr	r1, [r2, #16]
 809 006e 0B40     		ands	r3, r3, r1
 810 0070 1361     		str	r3, [r2, #16]
 811 0072 38BD     		pop	{r3, r4, r5, pc}
 812              	.L78:
1089:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 813              		.loc 1 1089 0
 814 0074 0528     		cmp	r0, #5
 815 0076 F4D0     		beq	.L82
1092:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTER_Reset;
 816              		.loc 1 1092 0
 817 0078 2269     		ldr	r2, [r4, #16]
 818 007a 41F6DF73 		movw	r3, #8159
 819 007e 1340     		ands	r3, r3, r2
 820 0080 2361     		str	r3, [r4, #16]
 821              	.L77:
1098:StdPeriphLib/src/stm32f10x_flash.c **** }
 822              		.loc 1 1098 0
 823 0082 38BD     		pop	{r3, r4, r5, pc}
 824              	.L88:
 825              		.align	2
 826              	.L87:
 827 0084 00200240 		.word	1073881088
 828 0088 23016745 		.word	1164378403
 829 008c 00F8FF1F 		.word	536868864
 830              		.cfi_endproc
 831              	.LFE44:
 832              		.fnend
 834              		.section	.text.FLASH_EnableWriteProtection,"ax",%progbits
 835              		.align	1
 836              		.global	FLASH_EnableWriteProtection
 837              		.thumb
 838              		.thumb_func
 840              	FLASH_EnableWriteProtection:
 841              		.fnstart
 842              	.LFB43:
 976:StdPeriphLib/src/stm32f10x_flash.c **** {
 843              		.loc 1 976 0
 844              		.cfi_startproc
 845              		@ args = 0, pretend = 0, frame = 0
 846              		@ frame_needed = 0, uses_anonymous_args = 0
 847              	.LVL48:
 848 0000 10B5     		push	{r4, lr}
 849              		.save {r4, lr}
 850              	.LCFI3:
 851              		.cfi_def_cfa_offset 8
 852              		.cfi_offset 4, -8
 853              		.cfi_offset 14, -4
 976:StdPeriphLib/src/stm32f10x_flash.c **** {
 854              		.loc 1 976 0
 855 0002 0446     		mov	r4, r0
 856              	.LVL49:
 991:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 857              		.loc 1 991 0
 858 0004 4FF40050 		mov	r0, #8192
 859              	.LVL50:
 860 0008 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 861              	.LVL51:
 993:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 862              		.loc 1 993 0
 863 000c 0428     		cmp	r0, #4
 864 000e 45D1     		bne	.L90
 996:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 865              		.loc 1 996 0
 866 0010 234B     		ldr	r3, .L114
 867 0012 2449     		ldr	r1, .L114+4
 984:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Pages = (uint32_t)(~FLASH_Pages);
 868              		.loc 1 984 0
 869 0014 E443     		mvns	r4, r4
 870              	.LVL52:
 996:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 871              		.loc 1 996 0
 872 0016 9960     		str	r1, [r3, #8]
 997:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 873              		.loc 1 997 0
 874 0018 01F18831 		add	r1, r1, #-2004318072
 875 001c 9960     		str	r1, [r3, #8]
 998:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 876              		.loc 1 998 0
 877 001e 1969     		ldr	r1, [r3, #16]
 985:StdPeriphLib/src/stm32f10x_flash.c ****   WRP0_Data = (uint16_t)(FLASH_Pages & WRP0_Mask);
 878              		.loc 1 985 0
 879 0020 E2B2     		uxtb	r2, r4
 998:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 880              		.loc 1 998 0
 881 0022 41F01001 		orr	r1, r1, #16
 999:StdPeriphLib/src/stm32f10x_flash.c ****     if(WRP0_Data != 0xFF)
 882              		.loc 1 999 0
 883 0026 FF2A     		cmp	r2, #255
 998:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 884              		.loc 1 998 0
 885 0028 1961     		str	r1, [r3, #16]
 999:StdPeriphLib/src/stm32f10x_flash.c ****     if(WRP0_Data != 0xFF)
 886              		.loc 1 999 0
 887 002a 04D1     		bne	.L91
 888              	.L94:
 986:StdPeriphLib/src/stm32f10x_flash.c ****   WRP1_Data = (uint16_t)((FLASH_Pages & WRP1_Mask) >> 8);
 889              		.loc 1 986 0
 890 002c C4F30723 		ubfx	r3, r4, #8, #8
1006:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP1_Data != 0xFF))
 891              		.loc 1 1006 0
 892 0030 FF2B     		cmp	r3, #255
 893 0032 0ED1     		bne	.L92
 894 0034 08E0     		b	.L93
 895              	.L91:
1001:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP0 = WRP0_Data;
 896              		.loc 1 1001 0
 897 0036 1C4B     		ldr	r3, .L114+8
1004:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 898              		.loc 1 1004 0
 899 0038 4FF40050 		mov	r0, #8192
 900              	.LVL53:
1001:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP0 = WRP0_Data;
 901              		.loc 1 1001 0
 902 003c 1A81     		strh	r2, [r3, #8]	@ movhi
1004:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 903              		.loc 1 1004 0
 904 003e FFF7FEFF 		bl	FLASH_WaitForLastOperation
 905              	.LVL54:
1006:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP1_Data != 0xFF))
 906              		.loc 1 1006 0
 907 0042 0428     		cmp	r0, #4
 908 0044 22D1     		bne	.L100
 909 0046 F1E7     		b	.L94
 910              	.L93:
 987:StdPeriphLib/src/stm32f10x_flash.c ****   WRP2_Data = (uint16_t)((FLASH_Pages & WRP2_Mask) >> 16);
 911              		.loc 1 987 0
 912 0048 C4F30743 		ubfx	r3, r4, #16, #8
1013:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP2_Data != 0xFF))
 913              		.loc 1 1013 0
 914 004c FF2B     		cmp	r3, #255
 915 004e 0ED1     		bne	.L96
 916 0050 08E0     		b	.L97
 917              	.L92:
1008:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP1 = WRP1_Data;
 918              		.loc 1 1008 0
 919 0052 154A     		ldr	r2, .L114+8
1011:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 920              		.loc 1 1011 0
 921 0054 4FF40050 		mov	r0, #8192
 922              	.LVL55:
1008:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP1 = WRP1_Data;
 923              		.loc 1 1008 0
 924 0058 5381     		strh	r3, [r2, #10]	@ movhi
1011:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 925              		.loc 1 1011 0
 926 005a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 927              	.LVL56:
1013:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP2_Data != 0xFF))
 928              		.loc 1 1013 0
 929 005e 0428     		cmp	r0, #4
 930 0060 F2D0     		beq	.L93
 931 0062 13E0     		b	.L100
 932              	.L97:
 988:StdPeriphLib/src/stm32f10x_flash.c ****   WRP3_Data = (uint16_t)((FLASH_Pages & WRP3_Mask) >> 24);
 933              		.loc 1 988 0
 934 0064 240E     		lsrs	r4, r4, #24
 935              	.LVL57:
1021:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE)&& (WRP3_Data != 0xFF))
 936              		.loc 1 1021 0
 937 0066 FF2C     		cmp	r4, #255
 938 0068 0AD1     		bne	.L98
 939 006a 0420     		movs	r0, #4
 940              	.LVL58:
 941 006c 10E0     		b	.L99
 942              	.LVL59:
 943              	.L96:
1015:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP2 = WRP2_Data;
 944              		.loc 1 1015 0
 945 006e 0E4A     		ldr	r2, .L114+8
1018:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 946              		.loc 1 1018 0
 947 0070 4FF40050 		mov	r0, #8192
 948              	.LVL60:
1015:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP2 = WRP2_Data;
 949              		.loc 1 1015 0
 950 0074 9381     		strh	r3, [r2, #12]	@ movhi
1018:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 951              		.loc 1 1018 0
 952 0076 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 953              	.LVL61:
1021:StdPeriphLib/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE)&& (WRP3_Data != 0xFF))
 954              		.loc 1 1021 0
 955 007a 0428     		cmp	r0, #4
 956 007c F2D0     		beq	.L97
 957 007e 05E0     		b	.L100
 958              	.LVL62:
 959              	.L98:
1023:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP3 = WRP3_Data;
 960              		.loc 1 1023 0
 961 0080 094B     		ldr	r3, .L114+8
1026:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 962              		.loc 1 1026 0
 963 0082 4FF40050 		mov	r0, #8192
 964              	.LVL63:
1023:StdPeriphLib/src/stm32f10x_flash.c ****       OB->WRP3 = WRP3_Data;
 965              		.loc 1 1023 0
 966 0086 DC81     		strh	r4, [r3, #14]	@ movhi
1026:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 967              		.loc 1 1026 0
 968 0088 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 969              	.LVL64:
 970              	.L100:
1029:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 971              		.loc 1 1029 0
 972 008c 0528     		cmp	r0, #5
 973 008e 05D0     		beq	.L90
 974              	.LVL65:
 975              	.L99:
1032:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 976              		.loc 1 1032 0
 977 0090 034A     		ldr	r2, .L114
 978 0092 41F6EF73 		movw	r3, #8175
 979 0096 1169     		ldr	r1, [r2, #16]
 980 0098 0B40     		ands	r3, r3, r1
 981 009a 1361     		str	r3, [r2, #16]
 982              	.L90:
 983              	.LVL66:
1037:StdPeriphLib/src/stm32f10x_flash.c **** }
 984              		.loc 1 1037 0
 985 009c 10BD     		pop	{r4, pc}
 986              	.L115:
 987 009e 00BF     		.align	2
 988              	.L114:
 989 00a0 00200240 		.word	1073881088
 990 00a4 23016745 		.word	1164378403
 991 00a8 00F8FF1F 		.word	536868864
 992              		.cfi_endproc
 993              	.LFE43:
 994              		.fnend
 996              		.section	.text.FLASH_ProgramOptionByteData,"ax",%progbits
 997              		.align	1
 998              		.global	FLASH_ProgramOptionByteData
 999              		.thumb
 1000              		.thumb_func
 1002              	FLASH_ProgramOptionByteData:
 1003              		.fnstart
 1004              	.LFB42:
 930:StdPeriphLib/src/stm32f10x_flash.c **** {
 1005              		.loc 1 930 0
 1006              		.cfi_startproc
 1007              		@ args = 0, pretend = 0, frame = 0
 1008              		@ frame_needed = 0, uses_anonymous_args = 0
 1009              	.LVL67:
 1010 0000 70B5     		push	{r4, r5, r6, lr}
 1011              		.save {r4, r5, r6, lr}
 1012              	.LCFI4:
 1013              		.cfi_def_cfa_offset 16
 1014              		.cfi_offset 4, -16
 1015              		.cfi_offset 5, -12
 1016              		.cfi_offset 6, -8
 1017              		.cfi_offset 14, -4
 930:StdPeriphLib/src/stm32f10x_flash.c **** {
 1018              		.loc 1 930 0
 1019 0002 0546     		mov	r5, r0
 934:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1020              		.loc 1 934 0
 1021 0004 4FF40050 		mov	r0, #8192
 1022              	.LVL68:
 930:StdPeriphLib/src/stm32f10x_flash.c **** {
 1023              		.loc 1 930 0
 1024 0008 0E46     		mov	r6, r1
 934:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1025              		.loc 1 934 0
 1026 000a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1027              	.LVL69:
 936:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1028              		.loc 1 936 0
 1029 000e 0428     		cmp	r0, #4
 1030 0010 15D1     		bne	.L117
 939:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1031              		.loc 1 939 0
 1032 0012 0B4C     		ldr	r4, .L121
 1033 0014 0B4B     		ldr	r3, .L121+4
 946:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1034              		.loc 1 946 0
 1035 0016 4FF40050 		mov	r0, #8192
 1036              	.LVL70:
 939:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1037              		.loc 1 939 0
 1038 001a A360     		str	r3, [r4, #8]
 940:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 1039              		.loc 1 940 0
 1040 001c 03F18833 		add	r3, r3, #-2004318072
 1041 0020 A360     		str	r3, [r4, #8]
 942:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 1042              		.loc 1 942 0
 1043 0022 2369     		ldr	r3, [r4, #16]
 1044 0024 43F01003 		orr	r3, r3, #16
 1045 0028 2361     		str	r3, [r4, #16]
 943:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 1046              		.loc 1 943 0
 1047 002a 2E80     		strh	r6, [r5, #0]	@ movhi
 946:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1048              		.loc 1 946 0
 1049 002c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1050              	.LVL71:
 947:StdPeriphLib/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 1051              		.loc 1 947 0
 1052 0030 0528     		cmp	r0, #5
 1053 0032 04D0     		beq	.L117
 950:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 1054              		.loc 1 950 0
 1055 0034 2269     		ldr	r2, [r4, #16]
 1056 0036 41F6EF73 		movw	r3, #8175
 1057 003a 1340     		ands	r3, r3, r2
 1058 003c 2361     		str	r3, [r4, #16]
 1059              	.L117:
 955:StdPeriphLib/src/stm32f10x_flash.c **** }
 1060              		.loc 1 955 0
 1061 003e 70BD     		pop	{r4, r5, r6, pc}
 1062              	.L122:
 1063              		.align	2
 1064              	.L121:
 1065 0040 00200240 		.word	1073881088
 1066 0044 23016745 		.word	1164378403
 1067              		.cfi_endproc
 1068              	.LFE42:
 1069              		.fnend
 1071              		.section	.text.FLASH_ProgramHalfWord,"ax",%progbits
 1072              		.align	1
 1073              		.global	FLASH_ProgramHalfWord
 1074              		.thumb
 1075              		.thumb_func
 1077              	FLASH_ProgramHalfWord:
 1078              		.fnstart
 1079              	.LFB41:
 859:StdPeriphLib/src/stm32f10x_flash.c **** {
 1080              		.loc 1 859 0
 1081              		.cfi_startproc
 1082              		@ args = 0, pretend = 0, frame = 0
 1083              		@ frame_needed = 0, uses_anonymous_args = 0
 1084              	.LVL72:
 1085 0000 70B5     		push	{r4, r5, r6, lr}
 1086              		.save {r4, r5, r6, lr}
 1087              	.LCFI5:
 1088              		.cfi_def_cfa_offset 16
 1089              		.cfi_offset 4, -16
 1090              		.cfi_offset 5, -12
 1091              		.cfi_offset 6, -8
 1092              		.cfi_offset 14, -4
 859:StdPeriphLib/src/stm32f10x_flash.c **** {
 1093              		.loc 1 859 0
 1094 0002 0546     		mov	r5, r0
 900:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1095              		.loc 1 900 0
 1096 0004 4FF40050 		mov	r0, #8192
 1097              	.LVL73:
 859:StdPeriphLib/src/stm32f10x_flash.c **** {
 1098              		.loc 1 859 0
 1099 0008 0E46     		mov	r6, r1
 900:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1100              		.loc 1 900 0
 1101 000a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1102              	.LVL74:
 902:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1103              		.loc 1 902 0
 1104 000e 0428     		cmp	r0, #4
 1105 0010 0ED1     		bne	.L124
 905:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 1106              		.loc 1 905 0
 1107 0012 084C     		ldr	r4, .L125
 909:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1108              		.loc 1 909 0
 1109 0014 4FF40050 		mov	r0, #8192
 1110              	.LVL75:
 905:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 1111              		.loc 1 905 0
 1112 0018 2369     		ldr	r3, [r4, #16]
 1113 001a 43F00103 		orr	r3, r3, #1
 1114 001e 2361     		str	r3, [r4, #16]
 907:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 1115              		.loc 1 907 0
 1116 0020 2E80     		strh	r6, [r5, #0]	@ movhi
 909:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1117              		.loc 1 909 0
 1118 0022 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1119              	.LVL76:
 912:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PG_Reset;
 1120              		.loc 1 912 0
 1121 0026 2269     		ldr	r2, [r4, #16]
 1122 0028 41F6FE73 		movw	r3, #8190
 1123 002c 1340     		ands	r3, r3, r2
 1124 002e 2361     		str	r3, [r4, #16]
 1125              	.L124:
 918:StdPeriphLib/src/stm32f10x_flash.c **** }
 1126              		.loc 1 918 0
 1127 0030 70BD     		pop	{r4, r5, r6, pc}
 1128              	.L126:
 1129 0032 00BF     		.align	2
 1130              	.L125:
 1131 0034 00200240 		.word	1073881088
 1132              		.cfi_endproc
 1133              	.LFE41:
 1134              		.fnend
 1136              		.section	.text.FLASH_ProgramWord,"ax",%progbits
 1137              		.align	1
 1138              		.global	FLASH_ProgramWord
 1139              		.thumb
 1140              		.thumb_func
 1142              	FLASH_ProgramWord:
 1143              		.fnstart
 1144              	.LFB40:
 682:StdPeriphLib/src/stm32f10x_flash.c **** {
 1145              		.loc 1 682 0
 1146              		.cfi_startproc
 1147              		@ args = 0, pretend = 0, frame = 8
 1148              		@ frame_needed = 0, uses_anonymous_args = 0
 1149              	.LVL77:
 1150 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 1151              		.save {r0, r1, r4, r5, r6, lr}
 1152              	.LCFI6:
 1153              		.cfi_def_cfa_offset 24
 1154              		.cfi_offset 0, -24
 1155              		.cfi_offset 1, -20
 1156              		.cfi_offset 4, -16
 1157              		.cfi_offset 5, -12
 1158              		.cfi_offset 6, -8
 1159              		.cfi_offset 14, -4
 684:StdPeriphLib/src/stm32f10x_flash.c ****   __IO uint32_t tmp = 0;
 1160              		.loc 1 684 0
 1161 0002 0023     		movs	r3, #0
 682:StdPeriphLib/src/stm32f10x_flash.c **** {
 1162              		.loc 1 682 0
 1163 0004 0646     		mov	r6, r0
 812:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1164              		.loc 1 812 0
 1165 0006 4FF40050 		mov	r0, #8192
 1166              	.LVL78:
 682:StdPeriphLib/src/stm32f10x_flash.c **** {
 1167              		.loc 1 682 0
 1168 000a 0D46     		mov	r5, r1
 684:StdPeriphLib/src/stm32f10x_flash.c ****   __IO uint32_t tmp = 0;
 1169              		.loc 1 684 0
 1170 000c 0193     		str	r3, [sp, #4]
 1171              	.LVL79:
 812:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 1172              		.loc 1 812 0
 1173 000e FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1174              	.LVL80:
 814:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1175              		.loc 1 814 0
 1176 0012 0428     		cmp	r0, #4
 1177 0014 19D1     		bne	.L128
 818:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 1178              		.loc 1 818 0
 1179 0016 0D4C     		ldr	r4, .L130
 822:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1180              		.loc 1 822 0
 1181 0018 4FF40050 		mov	r0, #8192
 1182              	.LVL81:
 818:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 1183              		.loc 1 818 0
 1184 001c 2369     		ldr	r3, [r4, #16]
 1185 001e 43F00103 		orr	r3, r3, #1
 1186 0022 2361     		str	r3, [r4, #16]
 820:StdPeriphLib/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = (uint16_t)Data;
 1187              		.loc 1 820 0
 1188 0024 3580     		strh	r5, [r6, #0]	@ movhi
 822:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 1189              		.loc 1 822 0
 1190 0026 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1191              	.LVL82:
 824:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 1192              		.loc 1 824 0
 1193 002a 0428     		cmp	r0, #4
 1194 002c 08D1     		bne	.L129
 828:StdPeriphLib/src/stm32f10x_flash.c ****       tmp = Address + 2;
 1195              		.loc 1 828 0
 1196 002e 0236     		adds	r6, r6, #2
 1197              	.LVL83:
 1198 0030 0196     		str	r6, [sp, #4]
 1199              	.LVL84:
 830:StdPeriphLib/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 1200              		.loc 1 830 0
 1201 0032 019B     		ldr	r3, [sp, #4]
 1202 0034 2D0C     		lsrs	r5, r5, #16
 1203              	.LVL85:
 1204 0036 1D80     		strh	r5, [r3, #0]	@ movhi
 833:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1205              		.loc 1 833 0
 1206 0038 4FF40050 		mov	r0, #8192
 1207              	.LVL86:
 1208 003c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1209              	.LVL87:
 1210              	.L129:
 841:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 1211              		.loc 1 841 0
 1212 0040 2269     		ldr	r2, [r4, #16]
 1213 0042 41F6FE73 		movw	r3, #8190
 1214 0046 1340     		ands	r3, r3, r2
 1215 0048 2361     		str	r3, [r4, #16]
 1216              	.L128:
 848:StdPeriphLib/src/stm32f10x_flash.c **** }
 1217              		.loc 1 848 0
 1218 004a 7CBD     		pop	{r2, r3, r4, r5, r6, pc}
 1219              	.L131:
 1220              		.align	2
 1221              	.L130:
 1222 004c 00200240 		.word	1073881088
 1223              		.cfi_endproc
 1224              	.LFE40:
 1225              		.fnend
 1227              		.section	.text.FLASH_EraseOptionBytes,"ax",%progbits
 1228              		.align	1
 1229              		.global	FLASH_EraseOptionBytes
 1230              		.thumb
 1231              		.thumb_func
 1233              	FLASH_EraseOptionBytes:
 1234              		.fnstart
 1235              	.LFB39:
 617:StdPeriphLib/src/stm32f10x_flash.c **** {
 1236              		.loc 1 617 0
 1237              		.cfi_startproc
 1238              		@ args = 0, pretend = 0, frame = 0
 1239              		@ frame_needed = 0, uses_anonymous_args = 0
 1240              	.LVL88:
 1241 0000 38B5     		push	{r3, r4, r5, lr}
 1242              		.save {r3, r4, r5, lr}
 1243              	.LCFI7:
 1244              		.cfi_def_cfa_offset 16
 1245              		.cfi_offset 3, -16
 1246              		.cfi_offset 4, -12
 1247              		.cfi_offset 5, -8
 1248              		.cfi_offset 14, -4
 623:StdPeriphLib/src/stm32f10x_flash.c ****   if(FLASH_GetReadOutProtectionStatus() != RESET)
 1249              		.loc 1 623 0
 1250 0002 FFF7FEFF 		bl	FLASH_GetReadOutProtectionStatus
 1251              	.LVL89:
 618:StdPeriphLib/src/stm32f10x_flash.c ****   uint16_t rdptmp = RDP_Key;
 1252              		.loc 1 618 0
 1253 0006 0028     		cmp	r0, #0
 1254 0008 0CBF     		ite	eq
 1255 000a A525     		moveq	r5, #165
 1256 000c 0025     		movne	r5, #0
 1257              	.LVL90:
 629:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 1258              		.loc 1 629 0
 1259 000e 4FF43020 		mov	r0, #720896
 1260 0012 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1261              	.LVL91:
 630:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1262              		.loc 1 630 0
 1263 0016 0428     		cmp	r0, #4
 1264 0018 2BD1     		bne	.L134
 633:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1265              		.loc 1 633 0
 1266 001a 164C     		ldr	r4, .L144
 1267 001c 164B     		ldr	r3, .L144+4
 640:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1268              		.loc 1 640 0
 1269 001e 4FF43020 		mov	r0, #720896
 1270              	.LVL92:
 633:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 1271              		.loc 1 633 0
 1272 0022 A360     		str	r3, [r4, #8]
 634:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 1273              		.loc 1 634 0
 1274 0024 03F18833 		add	r3, r3, #-2004318072
 1275 0028 A360     		str	r3, [r4, #8]
 637:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 1276              		.loc 1 637 0
 1277 002a 2369     		ldr	r3, [r4, #16]
 1278 002c 43F02003 		orr	r3, r3, #32
 1279 0030 2361     		str	r3, [r4, #16]
 638:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 1280              		.loc 1 638 0
 1281 0032 2369     		ldr	r3, [r4, #16]
 1282 0034 43F04003 		orr	r3, r3, #64
 1283 0038 2361     		str	r3, [r4, #16]
 640:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1284              		.loc 1 640 0
 1285 003a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1286              	.LVL93:
 642:StdPeriphLib/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 1287              		.loc 1 642 0
 1288 003e 0428     		cmp	r0, #4
 1289 0040 0ED1     		bne	.L143
 645:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 1290              		.loc 1 645 0
 1291 0042 2269     		ldr	r2, [r4, #16]
 1292 0044 41F6DF73 		movw	r3, #8159
 1293 0048 1340     		ands	r3, r3, r2
 1294 004a 2361     		str	r3, [r4, #16]
 648:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set;
 1295              		.loc 1 648 0
 1296 004c 2369     		ldr	r3, [r4, #16]
 652:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1297              		.loc 1 652 0
 1298 004e 4FF40050 		mov	r0, #8192
 1299              	.LVL94:
 648:StdPeriphLib/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set;
 1300              		.loc 1 648 0
 1301 0052 43F01003 		orr	r3, r3, #16
 1302 0056 2361     		str	r3, [r4, #16]
 650:StdPeriphLib/src/stm32f10x_flash.c ****       OB->RDP = (uint16_t)rdptmp; 
 1303              		.loc 1 650 0
 1304 0058 084B     		ldr	r3, .L144+8
 1305 005a 1D80     		strh	r5, [r3, #0]	@ movhi
 652:StdPeriphLib/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 1306              		.loc 1 652 0
 1307 005c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1308              	.LVL95:
 1309              	.L143:
 654:StdPeriphLib/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 1310              		.loc 1 654 0
 1311 0060 0528     		cmp	r0, #5
 1312 0062 01D1     		bne	.L142
 625:StdPeriphLib/src/stm32f10x_flash.c ****     rdptmp = 0x00;  
 1313              		.loc 1 625 0
 1314 0064 0520     		movs	r0, #5
 1315              	.LVL96:
 1316 0066 38BD     		pop	{r3, r4, r5, pc}
 1317              	.LVL97:
 1318              	.L142:
 665:StdPeriphLib/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 1319              		.loc 1 665 0
 1320 0068 2269     		ldr	r2, [r4, #16]
 1321 006a 41F6EF73 		movw	r3, #8175
 1322 006e 1340     		ands	r3, r3, r2
 1323 0070 2361     		str	r3, [r4, #16]
 1324              	.L134:
 671:StdPeriphLib/src/stm32f10x_flash.c **** }
 1325              		.loc 1 671 0
 1326 0072 38BD     		pop	{r3, r4, r5, pc}
 1327              	.L145:
 1328              		.align	2
 1329              	.L144:
 1330 0074 00200240 		.word	1073881088
 1331 0078 23016745 		.word	1164378403
 1332 007c 00F8FF1F 		.word	536868864
 1333              		.cfi_endproc
 1334              	.LFE39:
 1335              		.fnend
 1337              		.section	.text.FLASH_EraseAllPages,"ax",%progbits
 1338              		.align	1
 1339              		.global	FLASH_EraseAllPages
 1340              		.thumb
 1341              		.thumb_func
 1343              	FLASH_EraseAllPages:
 1344              		.fnstart
 1345              	.LFB37:
 493:StdPeriphLib/src/stm32f10x_flash.c **** {
 1346              		.loc 1 493 0
 1347              		.cfi_startproc
 1348              		@ args = 0, pretend = 0, frame = 0
 1349              		@ frame_needed = 0, uses_anonymous_args = 0
 1350              	.LVL98:
 1351 0000 10B5     		push	{r4, lr}
 1352              		.save {r4, lr}
 1353              	.LCFI8:
 1354              		.cfi_def_cfa_offset 8
 1355              		.cfi_offset 4, -8
 1356              		.cfi_offset 14, -4
 526:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 1357              		.loc 1 526 0
 1358 0002 4FF43020 		mov	r0, #720896
 1359 0006 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1360              	.LVL99:
 527:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1361              		.loc 1 527 0
 1362 000a 0428     		cmp	r0, #4
 1363 000c 11D1     		bne	.L147
 530:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 1364              		.loc 1 530 0
 1365 000e 094C     		ldr	r4, .L148
 534:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1366              		.loc 1 534 0
 1367 0010 4FF43020 		mov	r0, #720896
 1368              	.LVL100:
 530:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 1369              		.loc 1 530 0
 1370 0014 2369     		ldr	r3, [r4, #16]
 1371 0016 43F00403 		orr	r3, r3, #4
 1372 001a 2361     		str	r3, [r4, #16]
 531:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 1373              		.loc 1 531 0
 1374 001c 2369     		ldr	r3, [r4, #16]
 1375 001e 43F04003 		orr	r3, r3, #64
 1376 0022 2361     		str	r3, [r4, #16]
 534:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1377              		.loc 1 534 0
 1378 0024 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1379              	.LVL101:
 537:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 1380              		.loc 1 537 0
 1381 0028 2269     		ldr	r2, [r4, #16]
 1382 002a 41F6FB73 		movw	r3, #8187
 1383 002e 1340     		ands	r3, r3, r2
 1384 0030 2361     		str	r3, [r4, #16]
 1385              	.L147:
 543:StdPeriphLib/src/stm32f10x_flash.c **** }
 1386              		.loc 1 543 0
 1387 0032 10BD     		pop	{r4, pc}
 1388              	.L149:
 1389              		.align	2
 1390              	.L148:
 1391 0034 00200240 		.word	1073881088
 1392              		.cfi_endproc
 1393              	.LFE37:
 1394              		.fnend
 1396              		.section	.text.FLASH_ErasePage,"ax",%progbits
 1397              		.align	1
 1398              		.global	FLASH_ErasePage
 1399              		.thumb
 1400              		.thumb_func
 1402              	FLASH_ErasePage:
 1403              		.fnstart
 1404              	.LFB36:
 420:StdPeriphLib/src/stm32f10x_flash.c **** {
 1405              		.loc 1 420 0
 1406              		.cfi_startproc
 1407              		@ args = 0, pretend = 0, frame = 0
 1408              		@ frame_needed = 0, uses_anonymous_args = 0
 1409              	.LVL102:
 1410 0000 38B5     		push	{r3, r4, r5, lr}
 1411              		.save {r3, r4, r5, lr}
 1412              	.LCFI9:
 1413              		.cfi_def_cfa_offset 16
 1414              		.cfi_offset 3, -16
 1415              		.cfi_offset 4, -12
 1416              		.cfi_offset 5, -8
 1417              		.cfi_offset 14, -4
 420:StdPeriphLib/src/stm32f10x_flash.c **** {
 1418              		.loc 1 420 0
 1419 0002 0546     		mov	r5, r0
 464:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 1420              		.loc 1 464 0
 1421 0004 4FF43020 		mov	r0, #720896
 1422              	.LVL103:
 1423 0008 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1424              	.LVL104:
 466:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1425              		.loc 1 466 0
 1426 000c 0428     		cmp	r0, #4
 1427 000e 12D1     		bne	.L151
 469:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_PER_Set;
 1428              		.loc 1 469 0
 1429 0010 094C     		ldr	r4, .L152
 474:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1430              		.loc 1 474 0
 1431 0012 4FF43020 		mov	r0, #720896
 1432              	.LVL105:
 469:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_PER_Set;
 1433              		.loc 1 469 0
 1434 0016 2369     		ldr	r3, [r4, #16]
 1435 0018 43F00203 		orr	r3, r3, #2
 1436 001c 2361     		str	r3, [r4, #16]
 470:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->AR = Page_Address; 
 1437              		.loc 1 470 0
 1438 001e 6561     		str	r5, [r4, #20]
 471:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR|= CR_STRT_Set;
 1439              		.loc 1 471 0
 1440 0020 2369     		ldr	r3, [r4, #16]
 1441 0022 43F04003 		orr	r3, r3, #64
 1442 0026 2361     		str	r3, [r4, #16]
 474:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 1443              		.loc 1 474 0
 1444 0028 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 1445              	.LVL106:
 477:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PER_Reset;
 1446              		.loc 1 477 0
 1447 002c 2269     		ldr	r2, [r4, #16]
 1448 002e 41F6FD73 		movw	r3, #8189
 1449 0032 1340     		ands	r3, r3, r2
 1450 0034 2361     		str	r3, [r4, #16]
 1451              	.L151:
 483:StdPeriphLib/src/stm32f10x_flash.c **** }
 1452              		.loc 1 483 0
 1453 0036 38BD     		pop	{r3, r4, r5, pc}
 1454              	.L153:
 1455              		.align	2
 1456              	.L152:
 1457 0038 00200240 		.word	1073881088
 1458              		.cfi_endproc
 1459              	.LFE36:
 1460              		.fnend
 1462              		.section	.text.FLASH_WaitForLastBank1Operation,"ax",%progbits
 1463              		.align	1
 1464              		.global	FLASH_WaitForLastBank1Operation
 1465              		.thumb
 1466              		.thumb_func
 1468              	FLASH_WaitForLastBank1Operation:
 1469              		.fnstart
 1470              	.LFB56:
1614:StdPeriphLib/src/stm32f10x_flash.c **** 
1615:StdPeriphLib/src/stm32f10x_flash.c **** /**
1616:StdPeriphLib/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation on Bank1 to complete or a TIMEOUT to occur.
1617:StdPeriphLib/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1618:StdPeriphLib/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastOperation.
1619:StdPeriphLib/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH programming Timeout
1620:StdPeriphLib/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1621:StdPeriphLib/src/stm32f10x_flash.c ****   *         FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1622:StdPeriphLib/src/stm32f10x_flash.c ****   */
1623:StdPeriphLib/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastBank1Operation(uint32_t Timeout)
1624:StdPeriphLib/src/stm32f10x_flash.c **** { 
 1471              		.loc 1 1624 0
 1472              		.cfi_startproc
 1473              		@ args = 0, pretend = 0, frame = 0
 1474              		@ frame_needed = 0, uses_anonymous_args = 0
 1475              	.LVL107:
 1476 0000 10B5     		push	{r4, lr}
 1477              		.save {r4, lr}
 1478              	.LCFI10:
 1479              		.cfi_def_cfa_offset 8
 1480              		.cfi_offset 4, -8
 1481              		.cfi_offset 14, -4
 1482              		.loc 1 1624 0
 1483 0002 0446     		mov	r4, r0
1625:StdPeriphLib/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
1626:StdPeriphLib/src/stm32f10x_flash.c ****    
1627:StdPeriphLib/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1628:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 1484              		.loc 1 1628 0
 1485 0004 FFF7FEFF 		bl	FLASH_GetBank1Status
 1486              	.LVL108:
1629:StdPeriphLib/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1630:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 1487              		.loc 1 1630 0
 1488 0008 02E0     		b	.L155
 1489              	.L157:
1631:StdPeriphLib/src/stm32f10x_flash.c ****   {
1632:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 1490              		.loc 1 1632 0
 1491 000a FFF7FEFF 		bl	FLASH_GetBank1Status
 1492              	.LVL109:
1633:StdPeriphLib/src/stm32f10x_flash.c ****     Timeout--;
 1493              		.loc 1 1633 0
 1494 000e 013C     		subs	r4, r4, #1
 1495              	.LVL110:
 1496              	.L155:
1630:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 1497              		.loc 1 1630 0 discriminator 1
 1498 0010 0128     		cmp	r0, #1
 1499 0012 03D1     		bne	.L156
1630:StdPeriphLib/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 1500              		.loc 1 1630 0 is_stmt 0 discriminator 2
 1501 0014 002C     		cmp	r4, #0
 1502 0016 F8D1     		bne	.L157
1634:StdPeriphLib/src/stm32f10x_flash.c ****   }
1635:StdPeriphLib/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
1636:StdPeriphLib/src/stm32f10x_flash.c ****   {
1637:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 1503              		.loc 1 1637 0 is_stmt 1
 1504 0018 0520     		movs	r0, #5
 1505              	.LVL111:
 1506 001a 10BD     		pop	{r4, pc}
 1507              	.LVL112:
 1508              	.L156:
 1509 001c 002C     		cmp	r4, #0
 1510 001e 08BF     		it	eq
 1511 0020 0520     		moveq	r0, #5
 1512              	.LVL113:
1638:StdPeriphLib/src/stm32f10x_flash.c ****   }
1639:StdPeriphLib/src/stm32f10x_flash.c ****   /* Return the operation status */
1640:StdPeriphLib/src/stm32f10x_flash.c ****   return status;
1641:StdPeriphLib/src/stm32f10x_flash.c **** }
 1513              		.loc 1 1641 0
 1514 0022 10BD     		pop	{r4, pc}
 1515              		.cfi_endproc
 1516              	.LFE56:
 1517              		.fnend
 1519              		.section	.text.FLASH_EraseAllBank1Pages,"ax",%progbits
 1520              		.align	1
 1521              		.global	FLASH_EraseAllBank1Pages
 1522              		.thumb
 1523              		.thumb_func
 1525              	FLASH_EraseAllBank1Pages:
 1526              		.fnstart
 1527              	.LFB38:
 556:StdPeriphLib/src/stm32f10x_flash.c **** {
 1528              		.loc 1 556 0
 1529              		.cfi_startproc
 1530              		@ args = 0, pretend = 0, frame = 0
 1531              		@ frame_needed = 0, uses_anonymous_args = 0
 1532              	.LVL114:
 1533 0000 10B5     		push	{r4, lr}
 1534              		.save {r4, lr}
 1535              	.LCFI11:
 1536              		.cfi_def_cfa_offset 8
 1537              		.cfi_offset 4, -8
 1538              		.cfi_offset 14, -4
 559:StdPeriphLib/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 1539              		.loc 1 559 0
 1540 0002 4FF43020 		mov	r0, #720896
 1541 0006 FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 1542              	.LVL115:
 561:StdPeriphLib/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 1543              		.loc 1 561 0
 1544 000a 0428     		cmp	r0, #4
 1545 000c 11D1     		bne	.L161
 564:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 1546              		.loc 1 564 0
 1547 000e 094C     		ldr	r4, .L162
 568:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 1548              		.loc 1 568 0
 1549 0010 4FF43020 		mov	r0, #720896
 1550              	.LVL116:
 564:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 1551              		.loc 1 564 0
 1552 0014 2369     		ldr	r3, [r4, #16]
 1553 0016 43F00403 		orr	r3, r3, #4
 1554 001a 2361     		str	r3, [r4, #16]
 565:StdPeriphLib/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 1555              		.loc 1 565 0
 1556 001c 2369     		ldr	r3, [r4, #16]
 1557 001e 43F04003 		orr	r3, r3, #64
 1558 0022 2361     		str	r3, [r4, #16]
 568:StdPeriphLib/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 1559              		.loc 1 568 0
 1560 0024 FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 1561              	.LVL117:
 571:StdPeriphLib/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 1562              		.loc 1 571 0
 1563 0028 2269     		ldr	r2, [r4, #16]
 1564 002a 41F6FB73 		movw	r3, #8187
 1565 002e 1340     		ands	r3, r3, r2
 1566 0030 2361     		str	r3, [r4, #16]
 1567              	.L161:
 575:StdPeriphLib/src/stm32f10x_flash.c **** }
 1568              		.loc 1 575 0
 1569 0032 10BD     		pop	{r4, pc}
 1570              	.L163:
 1571              		.align	2
 1572              	.L162:
 1573 0034 00200240 		.word	1073881088
 1574              		.cfi_endproc
 1575              	.LFE38:
 1576              		.fnend
 1578              		.text
 1579              	.Letext0:
 1580              		.file 2 "/home/cnovak/CodeSourcery/Sourcery_CodeBench_Lite_for_ARM_GNU_Linux/bin/../arm-none-linux
 1581              		.file 3 "StdPeriphLib/inc/stm32f10x.h"
 1582              		.file 4 "StdPeriphLib/inc/stm32f10x_flash.h"
 1583              		.file 5 "StdPeriphLib/inc/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_flash.c
     /tmp/ccM5q8zb.s:19     .text.FLASH_SetLatency:00000000 $t
     /tmp/ccM5q8zb.s:24     .text.FLASH_SetLatency:00000000 FLASH_SetLatency
     /tmp/ccM5q8zb.s:50     .text.FLASH_SetLatency:00000010 $d
 .ARM.exidx.text.FLASH_SetLatency:00000000 $d
     /tmp/ccM5q8zb.s:56     .text.FLASH_HalfCycleAccessCmd:00000000 $t
     /tmp/ccM5q8zb.s:61     .text.FLASH_HalfCycleAccessCmd:00000000 FLASH_HalfCycleAccessCmd
     /tmp/ccM5q8zb.s:84     .text.FLASH_HalfCycleAccessCmd:00000014 $d
.ARM.exidx.text.FLASH_HalfCycleAccessCmd:00000000 $d
     /tmp/ccM5q8zb.s:90     .text.FLASH_PrefetchBufferCmd:00000000 $t
     /tmp/ccM5q8zb.s:95     .text.FLASH_PrefetchBufferCmd:00000000 FLASH_PrefetchBufferCmd
     /tmp/ccM5q8zb.s:118    .text.FLASH_PrefetchBufferCmd:00000014 $d
.ARM.exidx.text.FLASH_PrefetchBufferCmd:00000000 $d
     /tmp/ccM5q8zb.s:124    .text.FLASH_Unlock:00000000 $t
     /tmp/ccM5q8zb.s:129    .text.FLASH_Unlock:00000000 FLASH_Unlock
     /tmp/ccM5q8zb.s:148    .text.FLASH_Unlock:00000010 $d
     .ARM.exidx.text.FLASH_Unlock:00000000 $d
     /tmp/ccM5q8zb.s:155    .text.FLASH_UnlockBank1:00000000 $t
     /tmp/ccM5q8zb.s:160    .text.FLASH_UnlockBank1:00000000 FLASH_UnlockBank1
     /tmp/ccM5q8zb.s:179    .text.FLASH_UnlockBank1:00000010 $d
.ARM.exidx.text.FLASH_UnlockBank1:00000000 $d
     /tmp/ccM5q8zb.s:186    .text.FLASH_Lock:00000000 $t
     /tmp/ccM5q8zb.s:191    .text.FLASH_Lock:00000000 FLASH_Lock
     /tmp/ccM5q8zb.s:208    .text.FLASH_Lock:0000000c $d
       .ARM.exidx.text.FLASH_Lock:00000000 $d
     /tmp/ccM5q8zb.s:214    .text.FLASH_LockBank1:00000000 $t
     /tmp/ccM5q8zb.s:219    .text.FLASH_LockBank1:00000000 FLASH_LockBank1
     /tmp/ccM5q8zb.s:236    .text.FLASH_LockBank1:0000000c $d
  .ARM.exidx.text.FLASH_LockBank1:00000000 $d
     /tmp/ccM5q8zb.s:242    .text.FLASH_GetUserOptionByte:00000000 $t
     /tmp/ccM5q8zb.s:247    .text.FLASH_GetUserOptionByte:00000000 FLASH_GetUserOptionByte
     /tmp/ccM5q8zb.s:264    .text.FLASH_GetUserOptionByte:00000008 $d
.ARM.exidx.text.FLASH_GetUserOptionByte:00000000 $d
     /tmp/ccM5q8zb.s:270    .text.FLASH_GetWriteProtectionOptionByte:00000000 $t
     /tmp/ccM5q8zb.s:275    .text.FLASH_GetWriteProtectionOptionByte:00000000 FLASH_GetWriteProtectionOptionByte
     /tmp/ccM5q8zb.s:291    .text.FLASH_GetWriteProtectionOptionByte:00000008 $d
.ARM.exidx.text.FLASH_GetWriteProtectionOptionByte:00000000 $d
     /tmp/ccM5q8zb.s:297    .text.FLASH_GetReadOutProtectionStatus:00000000 $t
     /tmp/ccM5q8zb.s:302    .text.FLASH_GetReadOutProtectionStatus:00000000 FLASH_GetReadOutProtectionStatus
     /tmp/ccM5q8zb.s:322    .text.FLASH_GetReadOutProtectionStatus:0000000c $d
.ARM.exidx.text.FLASH_GetReadOutProtectionStatus:00000000 $d
     /tmp/ccM5q8zb.s:328    .text.FLASH_GetPrefetchBufferStatus:00000000 $t
     /tmp/ccM5q8zb.s:333    .text.FLASH_GetPrefetchBufferStatus:00000000 FLASH_GetPrefetchBufferStatus
     /tmp/ccM5q8zb.s:353    .text.FLASH_GetPrefetchBufferStatus:0000000c $d
.ARM.exidx.text.FLASH_GetPrefetchBufferStatus:00000000 $d
     /tmp/ccM5q8zb.s:359    .text.FLASH_ITConfig:00000000 $t
     /tmp/ccM5q8zb.s:364    .text.FLASH_ITConfig:00000000 FLASH_ITConfig
     /tmp/ccM5q8zb.s:393    .text.FLASH_ITConfig:00000014 $d
   .ARM.exidx.text.FLASH_ITConfig:00000000 $d
     /tmp/ccM5q8zb.s:399    .text.FLASH_GetFlagStatus:00000000 $t
     /tmp/ccM5q8zb.s:404    .text.FLASH_GetFlagStatus:00000000 FLASH_GetFlagStatus
     /tmp/ccM5q8zb.s:436    .text.FLASH_GetFlagStatus:0000001c $d
.ARM.exidx.text.FLASH_GetFlagStatus:00000000 $d
     /tmp/ccM5q8zb.s:442    .text.FLASH_ClearFlag:00000000 $t
     /tmp/ccM5q8zb.s:447    .text.FLASH_ClearFlag:00000000 FLASH_ClearFlag
     /tmp/ccM5q8zb.s:463    .text.FLASH_ClearFlag:00000008 $d
  .ARM.exidx.text.FLASH_ClearFlag:00000000 $d
     /tmp/ccM5q8zb.s:469    .text.FLASH_GetStatus:00000000 $t
     /tmp/ccM5q8zb.s:474    .text.FLASH_GetStatus:00000000 FLASH_GetStatus
     /tmp/ccM5q8zb.s:513    .text.FLASH_GetStatus:00000024 $d
  .ARM.exidx.text.FLASH_GetStatus:00000000 $d
     /tmp/ccM5q8zb.s:519    .text.FLASH_GetBank1Status:00000000 $t
     /tmp/ccM5q8zb.s:524    .text.FLASH_GetBank1Status:00000000 FLASH_GetBank1Status
     /tmp/ccM5q8zb.s:567    .text.FLASH_GetBank1Status:00000024 $d
.ARM.exidx.text.FLASH_GetBank1Status:00000000 $d
     /tmp/ccM5q8zb.s:573    .text.FLASH_WaitForLastOperation:00000000 $t
     /tmp/ccM5q8zb.s:578    .text.FLASH_WaitForLastOperation:00000000 FLASH_WaitForLastOperation
.ARM.exidx.text.FLASH_WaitForLastOperation:00000000 $d
     /tmp/ccM5q8zb.s:630    .text.FLASH_UserOptionByteConfig:00000000 $t
     /tmp/ccM5q8zb.s:635    .text.FLASH_UserOptionByteConfig:00000000 FLASH_UserOptionByteConfig
     /tmp/ccM5q8zb.s:706    .text.FLASH_UserOptionByteConfig:0000004c $d
.ARM.exidx.text.FLASH_UserOptionByteConfig:00000000 $d
     /tmp/ccM5q8zb.s:714    .text.FLASH_ReadOutProtection:00000000 $t
     /tmp/ccM5q8zb.s:719    .text.FLASH_ReadOutProtection:00000000 FLASH_ReadOutProtection
     /tmp/ccM5q8zb.s:827    .text.FLASH_ReadOutProtection:00000084 $d
.ARM.exidx.text.FLASH_ReadOutProtection:00000000 $d
     /tmp/ccM5q8zb.s:835    .text.FLASH_EnableWriteProtection:00000000 $t
     /tmp/ccM5q8zb.s:840    .text.FLASH_EnableWriteProtection:00000000 FLASH_EnableWriteProtection
     /tmp/ccM5q8zb.s:989    .text.FLASH_EnableWriteProtection:000000a0 $d
.ARM.exidx.text.FLASH_EnableWriteProtection:00000000 $d
     /tmp/ccM5q8zb.s:997    .text.FLASH_ProgramOptionByteData:00000000 $t
     /tmp/ccM5q8zb.s:1002   .text.FLASH_ProgramOptionByteData:00000000 FLASH_ProgramOptionByteData
     /tmp/ccM5q8zb.s:1065   .text.FLASH_ProgramOptionByteData:00000040 $d
.ARM.exidx.text.FLASH_ProgramOptionByteData:00000000 $d
     /tmp/ccM5q8zb.s:1072   .text.FLASH_ProgramHalfWord:00000000 $t
     /tmp/ccM5q8zb.s:1077   .text.FLASH_ProgramHalfWord:00000000 FLASH_ProgramHalfWord
     /tmp/ccM5q8zb.s:1131   .text.FLASH_ProgramHalfWord:00000034 $d
.ARM.exidx.text.FLASH_ProgramHalfWord:00000000 $d
     /tmp/ccM5q8zb.s:1137   .text.FLASH_ProgramWord:00000000 $t
     /tmp/ccM5q8zb.s:1142   .text.FLASH_ProgramWord:00000000 FLASH_ProgramWord
     /tmp/ccM5q8zb.s:1222   .text.FLASH_ProgramWord:0000004c $d
.ARM.exidx.text.FLASH_ProgramWord:00000000 $d
     /tmp/ccM5q8zb.s:1228   .text.FLASH_EraseOptionBytes:00000000 $t
     /tmp/ccM5q8zb.s:1233   .text.FLASH_EraseOptionBytes:00000000 FLASH_EraseOptionBytes
     /tmp/ccM5q8zb.s:1330   .text.FLASH_EraseOptionBytes:00000074 $d
.ARM.exidx.text.FLASH_EraseOptionBytes:00000000 $d
     /tmp/ccM5q8zb.s:1338   .text.FLASH_EraseAllPages:00000000 $t
     /tmp/ccM5q8zb.s:1343   .text.FLASH_EraseAllPages:00000000 FLASH_EraseAllPages
     /tmp/ccM5q8zb.s:1391   .text.FLASH_EraseAllPages:00000034 $d
.ARM.exidx.text.FLASH_EraseAllPages:00000000 $d
     /tmp/ccM5q8zb.s:1397   .text.FLASH_ErasePage:00000000 $t
     /tmp/ccM5q8zb.s:1402   .text.FLASH_ErasePage:00000000 FLASH_ErasePage
     /tmp/ccM5q8zb.s:1457   .text.FLASH_ErasePage:00000038 $d
  .ARM.exidx.text.FLASH_ErasePage:00000000 $d
     /tmp/ccM5q8zb.s:1463   .text.FLASH_WaitForLastBank1Operation:00000000 $t
     /tmp/ccM5q8zb.s:1468   .text.FLASH_WaitForLastBank1Operation:00000000 FLASH_WaitForLastBank1Operation
.ARM.exidx.text.FLASH_WaitForLastBank1Operation:00000000 $d
     /tmp/ccM5q8zb.s:1520   .text.FLASH_EraseAllBank1Pages:00000000 $t
     /tmp/ccM5q8zb.s:1525   .text.FLASH_EraseAllBank1Pages:00000000 FLASH_EraseAllBank1Pages
     /tmp/ccM5q8zb.s:1573   .text.FLASH_EraseAllBank1Pages:00000034 $d
.ARM.exidx.text.FLASH_EraseAllBank1Pages:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
__aeabi_unwind_cpp_pr0
